%!PS-Adobe-2.0%%Creator: dvips 5.516 Copyright 1986, 1993 Radical Eye Software%%Title: /Gypsy/Documents/PostScript/FlatGuide/postscript.dvi%%CreationDate: Sun Apr 20 21:38:05 1997%%Pages: 46%%PageOrder: Ascend%%BoundingBox: 0 0 612 792%%DocumentFonts: Times-Roman Times-Bold Courier Times-Italic%%EndComments%DVIPSCommandLine: dvips /Gypsy/Documents/PostScript/FlatGuide/postscript.dvi%DVIPSSource:  TeX output 1997.04.20:2126%%BeginProcSet: tex.pro/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scaleisls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 divhsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mulTR matrix currentmatrix dup dup 4 get round 4 exch put dup dup 5 getround 5 exch put setmatrix}N /@landscape{/isls true N}B /@manualfeed{statusdict /manualfeed true put}B /@copies{/#copies X}B /FMat[1 0 0 -1 00]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{/nn 8 dict N nnbegin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N string /base Xarray /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N end dup{/foosetfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{/sf 1 N /fntrxFMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]N df-tail}B /E{pop nn dup definefont setfont}B /ch-width{ch-data dup length 5 sub get}B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{128 ch-data duplength 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub get 127 sub}B/ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data dup type/stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N /rc 0 N /gp0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup /base get 2index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx 0 ch-xoffch-yoff ch-height sub ch-xoff ch-width add ch-yoff setcachedevicech-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff .1 add]{ch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}if nn/base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup length 1sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin 0 0moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul add.99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore showpageuserdict /eop-hook known{eop-hook}if}N /@start{userdict /start-hookknown{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 00]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}ifelse}{false}ifelse end{{gsave TR -.1 -.1 TR 1 1 scale rulex ruleyfalse RMat{BDot}imagemask grestore}}{{gsave TR -.1 -.1 TR rulex ruleyscale 1 1 false RMat{BDot}imagemask grestore}}ifelse B /QV{gsavetransform round exch round exch itransform moveto rulex 0 rlineto 0ruley neg rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta0 N /tail{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}B /c{-4 M}B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p-1 w}B /q{p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p a}B /bos{/SS save N}B /eos{SS restore}B end%%EndProcSet%%BeginProcSet: texps.proTeXDict begin /rf{findfont dup length 1 add dict begin{1 index /FID ne 2index /UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 rollexec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metricsexch def dict begin Encoding{exch dup type /integertype ne{pop pop 1 subdup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}ifelse}forall Metrics /Metrics currentdict end def[2 index currentdictend definefont 3 -1 roll makefont /setfont load]cvx def}def/ObliqueSlant{dup sin S cos div neg}B /SlantFont{4 index mul add}def/ExtendFont{3 -1 roll mul exch}def /ReEncodeFont{/Encoding exch def}defend%%EndProcSetTeXDict begin 40258431 52099146 1000 300 300(/Gypsy/Documents/PostScript/FlatGuide/postscript.dvi)@start /Fa 81[18 52[17 17 1[17 17 9 13 11 17 17 17 1726 9 17 9 9 17 17 11 15 17 15 17 15 11[24 20 18 22 1[1824 24 1[20 2[11 24 24 18 20 24 22 1[24 6[9 11[8 11 844[{}45 33.333332 /Times-Roman rf /Fb 1 50 df<187898181818181818181818181818FF08107D8F0F>49 D E /Fc 1 50 df<0C001C00EC000C000C000C000C000C000C000C000C000C000C000C000C000C000C000C00FFC00A137D9211>49D E /Fd 135[25 3[17 19 22 1[28 25 28 1[14 2[14 28 251[22 28 22 1[25 12[33 28 2[30 7[39 4[36 67[{}20 50.000000/Times-Bold rf /Fe 4 111 df<03C00FF01FF83FFC7FFE7FFEFFFFFFFFFFFFFFFF7FFE7FFE3FFC1FF80FF003C010107E9115>15 D<003C00E001C001800380038003800380038003800380038003800380038003800380030007001C00F0001C00070003000380038003800380038003800380038003800380038003800380018001C000E0003C0E297D9E15>102D<F0001C00070003000380038003800380038003800380038003800380038003800380018001C000E0003C00E001C001800380038003800380038003800380038003800380038003800380030007001C00F0000E297D9E15>I<C000C0006000600060003000300030001800180018000C000C000C000600060003000300030001800180018000C000C000C000600060003000300030001800180018000C000C000C0006000600060003000110297E9E15>110D E /Ff 133[16 18 18 28 18 21 12 16 16 1[21 21 21 3012 18 12 12 21 21 12 18 21 18 21 21 14[25 1[25 2[35 2324[21 21 21 2[10 14 45[{}34 41.666668 /Times-Italic rf/Fg 60[25 69[25 1[25 25 25 25 25 25 25 25 25 25 25 2525 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 1[2525 25 3[25 2[25 25 25 1[25 25 25 25 25 25 1[25 25 2525 25 25 25 25 25 2[25 25 25 25 25 25 25 25 25 25 2525 25 25 25 25 25 25 25 25 1[25 25 25 25 25 25 25 2525 33[{}82 41.666668 /Courier rf /Fh 190[21 65[{}1 29.166668/Times-Roman rf /Fi 81[33 52[30 30 43 30 33 20 23 271[33 30 33 50 17 33 1[17 33 30 20 27 33 27 33 30 9[601[43 40 33 43 1[37 47 43 4[23 1[47 37 40 43 43 40 431[30 4[20 13[15 44[{}43 59.999973 /Times-Bold rf /Fj135[43 3[29 1[38 1[48 1[48 4[24 48 2[38 48 2[43 27[5762 62 57 62 7[43 43 43 43 43 43 43 43 43 43 48[{}25 86.416687/Times-Bold rf /Fk 47[42 13[14 7[18 10[23 23 3[18 47[1821 21 30 21 21 12 16 14 21 21 21 21 32 12 21 12 12 2121 14 18 21 18 21 18 14 2[14 1[14 25 30 30 39 30 30 2523 28 1[23 30 30 37 25 30 16 14 30 30 23 25 30 28 2830 1[18 1[23 1[12 12 21 21 21 21 21 21 21 21 21 21 1210 14 10 2[14 14 14 1[35 1[21 1[14 33[{}84 41.666668/Times-Roman rf /Fl 80[23 23 52[21 21 30 21 23 14 1618 1[23 21 23 35 12 23 1[12 23 21 14 18 23 18 23 21 7[301[42 30 30 28 23 2[25 32 30 39 28 2[16 1[32 25 28 3030 28 30 1[21 5[21 21 21 21 21 21 21 21 21 21 2[14 3[1414 40[{}58 41.666668 /Times-Bold rf /Fm 135[52 75 1[5734 40 46 1[57 52 57 86 29 57 1[29 57 52 34 46 57 46 1[527[75 1[103 2[69 57 2[63 80 1[97 69 2[40 1[80 63 69 7575 69 2[52 63[{}36 103.666679 /Times-Bold rf /Fn 136[361[25 14 19 17 1[25 1[25 1[14 2[14 1[25 1[22 25 22 1[229[47 6[28 5[19 8[36 46 6[25 1[25 4[25 25 25 1[12 1[1244[{}26 50.000000 /Times-Roman rf /Fo 138[36 20 28 241[36 36 5[20 3[32 36 32 15[40 2[40 8[52 40 4[52 65[{}1572.000000 /Times-Roman rf end%%EndProlog%%BeginSetup%%Feature: *Resolution 300dpiTeXDict begin%%EndSetup%%Page: 1 11 0 bop 584 995 a Fo(A)18 b(First)g(Guide)f(to)h(PostScript)7791177 y Fn(Peter)12 b(J)h(W)m(eingartner)718 1235 y(eweingar@cs.indiana.edu)829 1353 y(April)f(20,)g(1997)peop%%Page: 1 21 1 bop 0 374 a Fm(Contents)0 631 y Fl(1)41 b(Introduction)1641b(2)0 722 y(2)41 b(What)10 b(is)g(PostScript?)1514 b(4)0814 y(3)41 b(Graphics)11 b(Concepts)1530 b(5)0 905 y(4)41b(Language)10 b(Concepts)1518 b(6)0 996 y(5)41 b(Programming)9b(in)h(PostScript)1379 b(8)0 1088 y(6)41 b(Drawing)10b(and)g(Filling)f(Shapes)1375 b(9)0 1179 y(7)41 b(Putting)10b(T)m(ext)f(on)i(the)f(Page)1415 b(1)o(1)0 1270 y(8)41b(T)n(ransformations)1547 b(13)0 1362 y(9)41 b(Clipping)9b(for)i(Eff)l(ec)q(t)1514 b(16)0 1453 y(10)20 b(Encapsulated)11b(PostScript)1411 b(18)0 1544 y(1)o(1)21 b(Post)11 b(Processing)1571b(20)0 1635 y(A)32 b(Examples)1672 b(26)0 1727 y(B)34b(PostScript)11 b(Operators)1470 b(31)0 1818 y(C)32 b(Errors)11b(Y)l(ou)e(Might)h(Encounter)1332 b(43)0 1909 y(D)32b(String)10 b(Escape)h(Codes)1482 b(44)0 2001 y(E)34b(PostScript)11 b(Books)1542 b(45)965 2794 y Fk(1)p eop%%Page: 2 32 2 bop 0 353 a Fj(Chapter)22 b(1)0 560 y Fm(Intr)o(oduction)0801 y Fi(About)15 b(this)g(Document)0 894 y Fk(This)e(is)f(meant)h(to)f(be)h(a)g(simple)g(introduction)d(to)i(programming)f(in)i(the)f(PostScript)f(page)j(description)d(language)h(from)h(Adobe.)0944 y(This)g(document)f(is)h(not)f(meant)h(to)f(be)h(a)g(comprehensive)g(reference)i(manual)e(\(although)e(it)g(does)i(contain)f(an)h(index)g(of)f(some)h(of)0 993 y(PostScript')o(s)d(standard)i(operators)f(and)i(a)f(list)f(of)h(various)g(errors\).)19 b(There)14 b(are)f(far)f(better)g(reference)h(books,)g(if)e(this)h(is)g(what)g(you)01043 y(need.)22 b(Instead,)14 b(this)d(is)i(meant)g(as)h(an)f(easily)f(accessible)i(tutorial.)20 b(It)12 b(was)h(written)f(with)f(the)i(assumption)f(that)g(you)g(have)h(some)0 1093 y(experience)e(programming)f(and)g(are)h(familiar)f(with)f(concepts)h(like)g(arrays)h(and)f(variables.)62 1143 y(The)e(scope)g(of)f(this)g(document)g(is)g(fairly)g(limited.)12 b(I)7 b(cover)h(only)e(a)i(subset)f(of)g(PostScript)f(Level)i(1)g(\(the)f(earliest)g(version\).)12b(Adobe)0 1193 y(brought)6 b(out)h(an)g(improved)g(version)g(of)g(PostScript)g(\(Level)h(2\))f(some)h(years)g(ago,)h(and)f(they)f(just)f(recently)i(introduced)e(Level)i(3.)13 b(This)0 1242y(document)d(was)h(never)f(meant)h(to)e(cover)h(these)h(versions)e(of)h(PostScript)f(\(although)f(the)i(code)h(I)f(present)g(here)g(should)f(run)h(just)f(\256ne)0 1292 y(on)f(a)h(Level)g(2)f(or)g(Level)g(3)h(capable)g(printer\).)j(Likewise,)d(I)f(do)g(not)g(cover)g(any)g(advanced)h(printing)d(concepts)j(like)f(color)f(separations)01342 y(or)j(halftone)g(screens)i(\(this)d(is)i(mainly)f(due)g(to)g(ignorance)h(on)f(my)h(part,)f(I)h(am)g(an)g(engineer)o(...)k(not)10b(a)h(printer)e(or)h(graphic)g(designer)o(...)0 1392y(although)f(I)h(do)g(admire)g(good)g(graphic)g(design)f(when)i(I)f(see)h(it\).)62 1442 y(I)f(created)h(this)e(document)h(because)i(I)e(have)g(noticed)g(that)f(many)i(people)e(on)h(the)g(Internet)f(have)i(been)f(asking)g(for)f(some)i(online)0 1491 y(document)f(to)g(get)g(them)g(started.)k(I)c(decided)h(that)e(this)h(was)h(a)g(good)e(opportunity)m(.)62 1541 y(This)e(version)f(of)h(the)f(guide)g(was)i(typeset)e(in)h(L)717 1533 y Fh(A)731 1541 y Fk(T)7501551 y(E)769 1541 y(X2e)h(after)f(being)f(converted)g(from)h(the)g(original)f(H)o(T)r(M)r(L)12 b(version)6 b(by)g(html2latex.)01591 y(The)12 b(resulting)f(L)245 1583 y Fh(A)259 1591y Fk(T)278 1600 y(E)297 1591 y(X)h(code)h(was)f(editted)f(by)g(hand,)i(but)e(many)h(errors)g(may)g(have)g(been)g(introduced)f(in)g(the)h(process.)19 b(Keeping)12 b(a)0 1641 y(L)11 1633 y Fh(A)251641 y Fk(T)44 1650 y(E)64 1641 y(X)f(and)g(an)h(HTML)g(version)f(of)g(this)f(document)h(in)g(sync)g(with)f(each)j(other)d(is)h(a)h(real)g(pain.)17 b(My)11 b(main)g(interest,)g(and)h(my)f(main)01691 y(activity)f(centers)i(around)f(the)g(HTML,)i(since)f(I)f(think)f(that)h(is)g(the)g(best)h(way)f(to)g(present)h(this)e(material.)18b(I)11 b(created)i(this)d(document)0 1741 y(mainly)g(because)i(there)f(has)g(been)h(considerable)e(demand)i(for)e(a)h(printed)e(version)i(of)f(the)h(web)g(version.)j(I)d(hope)g(you)f(like)g(it,)g(but)g(I)01790 y(must)f(warn)g(you)g(that)g(the)g(web)g(version)g(is)g(likely)f(to)h(be)g(the)g(most)g(accurate)i(and)e(up-to-date.)k(I)c(maintain)f(this)h(version)f(as)i(well)f(as)h(I)0 1840 y(can,)g(but)f(I)g(may)g(have)h(missed)f(updates)h(to)e(the)h(HTML)h(version.)j(If)c(anyone)g(knows)f(of)h(an)g(easy)h(way)g(to)e(have)i(one)f(source)h(for)e(both)01890 y(printed)i(and)h(HTML)h(versions)f(of)g(the)g(same)h(document,)g(I'd)f(be)g(interested)g(in)g(hearing)f(about)h(it.)16b(Please)c(note)f(that)g(the)g(original)0 1940 y(web)g(version)e(can)i(be)g(found)e(at:)100 2023 y Fg(http://www.cs.indiana.edu/hyplan/e)o(weingar/Po)o(stScript/po)o(stscript.ht)o(ml)0 2163 yFi(Note)0 2255 y Fk(PostScript)g(is)i(a)g(registered)f(trademark)h(of)f(Adobe)g(Systems)h(Incorporated.)j(The)d(copyright)e(to)h(the)g(PostScript)f(language)i(is)f(also)0 2305 y(held)g(by)g(Adobe)g(Systems)h(Incorporated.)i(Legal)e(questions)e(concerning)h(these)g(issues)h(should)e(be)i(directed)f(to)f(them.)0 2445y Fi(Disclaimer)0 2537 y Fk(No)h(warranty)g(or)f(guarantee,)i(either)f(expressed)h(or)e(implied,)h(is)g(made)h(as)g(to)e(the)h(correctness)h(of)e(this)h(document.)j(The)e(author)e(can)0 2587 y(not)g(be)i(held)f(responsible)f(for)h(any)g(damages)i(that)e(may)h(occur)f(through)f(the)h(use)g(of)g(any)h(code)f(contained)g(herein.)622637 y(Y)m(ou)f(get)h(what)g(you)g(paid)g(for)o(.)9652794 y(2)p eop%%Page: 3 43 3 bop 62 42 a Fk(That)10 b(noted,)f(permission)g(to)g(copy)g(freely)h(all)f(information)e(within)h(this)g(document)i(is)f(granted)g(free)h(of)f(charge,)h(so)g(long)e(as)i(the)0 91 y(original)f(author)g(is)h(acknowledged.)965 2794 y(3)p eop%%Page: 4 54 4 bop 0 353 a Fj(Chapter)22 b(2)0 560 y Fm(What)27b(is)e(PostScript?)0 781 y Fk(PostScript)9 b(is)h(a)g(programming)f(language)h(optimized)g(for)f(printing)f(graphics)i(and)g(text)f(\(whether)h(on)g(paper)o(,)g(\256lm,)g(or)g(CR)o(T)e(is)i(im-)0830 y(material\).)19 b(In)12 b(the)f(jargon)g(of)g(the)h(day)n(,)g(it)f(is)h(a)g Fl(page)h(description)f(language)p Fk(.)18b(It)12 b(was)g(introduced)f(by)g(Adobe)h(in)f(1985)g(and)h(\256rst)0880 y(\(to)f(my)h(knowledge\))e(appeared)j(in)e(the)g(Apple)g(LaserW)o(riter)o(.)17 b(The)12 b(main)g(purpose)f(of)h(PostScript)e(was)i(to)f(provide)g(a)h(convenient)0 930 y(language)d(in)f(which)g(to)g(describe)h(images)g(in)f(a)h(device)g(independent)f(manner)o(.)13b(This)8 b(device)h(independence)g(means)h(that)e(the)h(image)0980 y(is)f(described)g(without)f(reference)i(to)f(any)g(speci\256c)i(device)e(features)h(\()p Ff(e.g.)14 b Fk(printer)7 b(resolution\))f(so)i(that)g(the)g(same)i(description)d(could)0 1030y(be)j(used)f(on)g(any)g(PostScript)f(printer)g(\(say)n(,)i(a)g(LaserW)o(riter)f(or)g(a)h(Linotron\))d(without)g(modi\256cation.)13b(In)c(practice,)h(some)g(PostScript)0 1079 y(\256les)h(do)g(make)h(assumptions)e(about)h(the)g(target)f(device)h(\(such)g(as)h(its)e(resolution)f(or)i(the)g(number)g(of)g(paper)g(trays)g(it)f(has\),)i(but)e(this)0 1129 y(is)g(bad)g(practice)h(and)f(limits)f(portability)n(.)62 1179 y(The)15 b(language)e(itself,)h(which)f(is)h(typically)e(interpreted,)h(is)h(stack-based)g(in)f(the)h(same)h(manner)f(as)g(an)g(RPN)f(calculator)o(.)23 b(A)0 1229 y(program)10 b(pushes)g(arguments)f(to)g(an)h(operator)f(onto)g(a)i(stack)f(and)g(then)f(invokes)g(the)h(operator)o(.)i(T)n(ypically)n(,)c(the)i(operator)f(will)g(have)01279 y(some)i(result)f(which)f(is)i(left)e(at)i(the)f(top)f(of)h(the)g(stack.)15 b(As)10 b(an)h(example,)g(let)f(us)g(say)h(we)g(want)f(to)g(multiply)e(12)i(and)g(134.)j(W)n(e)d(would)0 1329 y(use)h(the)f(following)e(PostScript)h(code:)100 1420 y Fg(12)24 b(134)h(mul)621511 y Fk(The)10 b(\256rst)f(two)f(words)h(`)p Fg(12)pFk(')g(and)g(`)p Fg(134)p Fk(')g(push)f(the)h(numbers)h(12)e(and)i(134)e(onto)g(the)h(stack.)14 b(`)p Fg(mul)p Fk(')9 b(invokes)f(the)h(multiply)e(oper-)0 1561 y(ator)i(which)f(pops)h(two)f(values)i(off)d(the)i(stack,)h(multiplies)e(them,)h(and)g(then)g(pushes)g(the)g(result)f(back)i(onto)e(the)h(stack.)14 b(The)c(resulting)01611 y(value)g(can)h(be)g(left)f(there)g(to)g(be)g(used)h(by)e(another)h(operator)g(later)g(in)g(the)g(program.)62 1661 y(T)n(o)f(follow)f(the)i(conventions)e(used)i(by)f(Adobe)g(in)g(their)g(manuals,)h(I)g(will)e(synopsize)i(operators)f(using)f(the)i(following)d(scheme:)7241752 y Ff(ar)o(g-1)i(ar)o(g-2)g Fk(.)s(.)s(.)s Fl(oper)q(ator)kFf(r)o(esult)62 1843 y Fk(This)f(scheme)i(means)f(that,)f(to)g(use)gFl(operator)p Fk(,)h(you)f(must)g(push)f(arguments)gFf(ar)o(g-1)p Fk(,)h Ff(ar)o(g-2)p Fk(,)g(and)g(so)g(on)f(before)i(invoking)c(the)0 1893 y(operator)o(.)16 b Fl(operator)dFk(will)d(return)h(the)h(result:)j Ff(r)o(esult)p Fk(.)j(Many)11b(operators)g(return)g(no)h(result)f(\(they)g(have)h(some)g(side-eff)l(e)q(ct\);)j(these)0 1943 y(will)9 b(be)i(shown)e(as)i(returning)e(`)pFl(-)p Fk('.)965 2794 y(4)p eop%%Page: 5 65 5 bop 0 353 a Fj(Chapter)22 b(3)0 560 y Fm(Graphics)k(Concepts)0781 y Fk(There)11 b(are)h(a)f(few)g(concepts)f(that)g(you)g(need)h(to)f(know)g(about)g(before)g(we)h(dive)f(into)g(the)g(language)g(itself.)k(These)e(concepts)f(are)g(the)0 830 y(concepts)g(PostScript)e(uses)i(to)e(describe)i(and)f(manipulate)g(images)h(on)f(a)h(page.)j(There)d(are)h(really)d(only)h(a)g(few)n(.)0 922 y Fl(Device)h(Space)21b Fk(This)13 b(is)g(the)f(coordinate)g(space)i(understood)e(by)g(the)h(printer)e(hardware.)22 b(This)13 b(coordinate)f(system)h(is)g(typically)104 972 y(measured)g(in)f(terms)g(of)g(the)g(device')o(s)f(resolution.)18 b(There)13 b(is)e(really)h(nothing)e(else)j(that)e(can)i(be)g(said)f(about)f(this)g(space,)j(as)104 1021 y(PostScript)9b(programs)h(are)h(typically)e(not)g(expressed)i(using)f(it.)01104 y Fl(User)h(Space)22 b Fk(This)12 b(is)h(the)f(coordinate)g(system)h(used)g(by)g(PostScript)e(programs)i(to)f(describe)h(the)f(location)g(of)g(points)f(and)i(lines.)104 1154 y(User)g(space)h(is)f(essentially)f(the)h(same)h(as)g(the)f(\256rst)f(quadrant)h(of)f(the)h(standard)g(coordinate)f(system)h(used)g(in)g(high)f(school)1041204 y(math)f(classes.)17 b(Point)9 b(\(0,)i(0\))g(is)f(in)h(the)f(lower)h(left)f(corner)o(.)15 b(Coordinates)9 b(are)j(real)f(numbers,)g(so)g(there)g(is)f(no)h(set)g(resolution)104 1254 y(in)e(user)i(space.)k(The)c(interpreter)f(automatically)f(converts)h(user)g(space)i(coordinates)e(to)f(device)i(space.)0 1337 y Fl(Current)g(T)n(ransformation)d(Matrix)20 b Fk(The)12 b(transformation)f(of)g(user)h(space)h(coordinates)e(to)g(device)i(space)g(coordinates)e(is)g(done)104 1387 y(through)e(the)j(current)f(transformation)f(matrix.)17b(This)11 b(matrix)g(is)g(a)h(three)g(by)f(three)h(matrix)e(that)h(allows)g(the)h(user)f(to)g(rotate,)104 1436 y(scale,)f(and)e(translate)h(the)f(entire)g(user)g(space)i(within)d(the)h(device)h(space.)15 b(This)8 b(is)g(the)g(source)h(of)f(a)h(lot)f(of)g(PostScript')o(s)e(power)o(,)104 1486 y(as)11 b(will)e(be)h(demonstrated)g(later)o(.)0 1569 y Fl(Path)21 b Fk(A)12b(path)f(is)h(a)g(collection)f(of)g(\(possibly)f(disjoint\))g(line)h(segments)h(and)g(curves)g(arranged)h(on)e(the)h(page.)19b(The)12 b(path)g(does)g(not)104 1619 y(describe)h(actual)g(ink)f(on)g(the)h(paper;)h(it)e(merely)h(describes)g(an)g(imaginary)g(tracing)f(over)g(the)h(page.)22 b(There)14 b(are)f(operators)1041669 y(which)c(allow)g(the)g(user)h(to)f(draw)h(ink)f(along)g(the)g(path)g(\()p Fg(stroke)p Fk(\),)h(\256ll)f(an)g(enclosed)h(path)g(with)e(ink)h(\()p Fg(fill)p Fk(\),)g(or)h(clip)f(out)f(all)1041719 y(future)h(images)i(that)f(are)h(outside)e(the)h(path)g(\()pFg(clip)p Fk(\).)0 1802 y Fl(Current)h(Path)21 b Fk(This)11b(is)g(the)g(path)g(that)g(the)g(PostScript)f(program)h(is)h(creating)f(at)g(the)g(moment.)18 b(The)12 b(current)f(path)g(is)g(assembled)1041852 y(piece)g(by)f(piece.)0 1935 y Fl(Clipping)f(Path)21b Fk(The)11 b(PostScript)e(rendering)h(system)h(will)e(ignore)h(any)h(part)f(of)g(a)h(line)f(segment,)i(curve,)f(or)f(bitmap)g(that)g(extends)104 1984 y(outside)f(a)i(certain)f(region;)f(it)g(will)g(only)g(draw)h(the)g(parts)g(of)g(those)f(elements)i(which)f(are)h(within)d(the)i(region.)j(The)e(region)e(is)104 2034 y(described)i(by)f(a)i(path)e(called)h(the)g(clipping)e(path.)15 b(The)d(clipping)d(path)i(is)f(usually)g(a)h(rectangle)h(about)e(a)h(quarter)g(of)f(an)h(inch)104 2084 y(in)e(from)i(the)f(edge)g(of)g(the)g(page,)i(but)d(it)g(can)i(easily)g(be)f(set)h(by)f(the)g(user)g(to)g(an)g(arbitrary)g(path.)02167 y Fl(Graphics)h(State)21 b Fk(This)11 b(is)g(a)h(collection)e(of)g(various)h(settings)f(that)h(describe)g(the)g(current)g(state)h(of)e(the)h(graphics)g(system.)18 b(Things)104 2217 y(like)10b(the)h(current)f(path,)i(the)e(current)h(font,)f(and)h(the)g(current)g(transformation)e(matrix)i(make)h(up)e(the)h(graphics)g(state.)16b(Often,)104 2267 y(a)c(program)f(will)g(need)h(to)f(temporarily)g(save)h(a)g(graphics)g(state)g(to)f(be)h(used)g(later)o(.)17b(There)12 b(are)h(a)f(couple)g(of)f(ways)h(of)f(doing)1042316 y(this,)j(but)e(the)i(easiest)g(is)f(to)g(push)g(the)h(state)f(onto)g(a)h(special)g(graphics)f(state)h(stack)g(and)f(pop)g(it)g(back)h(later)o(.)22 b(This)14 b(can)g(be)104 2366 y(accomplished)c(with)g(the)g Fg(gsave)p Fk(,)g(and)g Fg(grestore)g Fk(operators.)9652794 y(5)p eop%%Page: 6 76 6 bop 0 353 a Fj(Chapter)22 b(4)0 560 y Fm(Language)j(Concepts)0781 y Fk(As)13 b(a)g(programming)e(language,)j(PostScript)d(is)h(particularly)f(simple.)20 b(There)14 b(are)f(really)f(only)g(a)h(few)f(concepts)h(that)f(need)h(to)f(be)0 830 y(sketched)f(out.)0922 y Fl(Comment)20 b Fk(A)7 b(comment)g(in)g(PostScript)e(is)i(any)g(text)f(preceded)i(by)e(a)i(`\045'.)k(The)7 b(special)h(comment)f(`\045!')12 b(as)7 b(the)g(\256rst)f(two)h(characters)104972 y(of)j(a)h(PostScript)f(program)g(is)h(seen)g(as)g(a)h(tag)e(marking)g(the)h(\256le)f(as)i(PostScript)d(code)i(by)g(many)g(systems)g(\(including)d(Unix')o(s)104 1021 y(lpr)g(command\).)15b(It)9 b(is)g(a)h(good)f(idea)h(to)e(start)i(every)f(PostScript)g(document)g(with)f(a)i(`\045!'...)k(doing)8 b(so)i(will)e(ensure)i(that)f(every)104 1071 y(spooler)g(and)i(printer)e(the)h(document)g(may)h(encounter)f(will)f(recognize)i(it)e(as)i(PostScript)e(code.)01154 y Fl(Stack)21 b Fk(There)9 b(are)g(several)g(stacks)g(in)e(a)i(PostScript)e(system,)i(but)f(only)f(two)g(are)i(important)e(for)h(this)f(guide:)12 b(the)c(operand)g(stack,)h(and)1041204 y(the)f(dictionary)f(stack.)14 b(The)c(operand)e(stack)i(is)e(where)h(arguments)f(to)g(procedures)h(\(or)g(operators,)g(in)f(PostScript)f(jargon\))g(are)104 1254 y(pushed)j(prior)f(to)g(use.)15b(The)c(dictionary)e(stack)h(is)g(for)g(dictionaries,)g(and)g(it)f(provides)h(storage)g(for)g(variables.)0 1337 y Fl(Dictionary)20b Fk(A)11 b(dictionary)e(is)h(a)h(collection)f(of)g(name-value)h(pairs.)k(All)10 b(named)i(variables)e(are)i(stored)e(in)g(dictionaries.)k(Also,)c(all)104 1387 y(available)e(operators)g(are)h(stored)f(in)g(dictionaries)f(along)h(with)f(their)h(code.)14b(The)9 b(dictionary)d(stack)j(is)f(a)h(stack)g(of)f(all)g(currently)104 1436 y(open)f(dictionaries.)12 b(When)7 b(a)h(program)f(refers)h(to)f(some)h(key)n(,)g(the)f(interpreter)g(wanders)g(down)g(the)g(stack)h(looking)d(for)i(the)g(\256rst)104 1486 y(instance)k(of)g(that)f(key)h(in)g(a)h(dictionary)n(.)i(In)d(this)f(manner)o(,)h(names)i(may)e(be)h(associated)g(with)e(variables)h(and)g(a)g(simple)g(form)1041536 y(of)f(scoping)f(is)h(implemented.)k(Conveniently)n(,)8b(dictionaries)h(may)i(be)g(given)e(names)j(and)e(be)g(stored)g(in)g(other)g(dictionaries.)0 1619 y Fl(Name)20 b Fk(A)10b(name)g(is)e(any)i(sequence)g(of)e(characters)j(that)d(can)i(not)e(be)h(interpreted)f(as)i(a)g(number)o(.)i(W)o(ith)7 b(the)i(exception)g(of)g(spaces)h(and)104 1669 y(certain)h(reserved)i(characters)g(\(the)e(characters)i(`\(',)e(`\)',)h(`[',)g(`]',)g(`)p Fg(<)pFk(',)g(`)p Fg(>)p Fk(',)g(`)p Fg({)p Fk(',)g(`)p Fg(})pFk(',)f(`/',)h(and)g(`\045'\))e(any)i(character)h(may)f(be)1041719 y(part)d(of)h(a)g(name.)15 b(The)c(name)g(may)f(even)h(start)e(with)g(digits)f(\(1Z)i(is)g(a)g(name,)i(for)d(example\),)i(but)e(you)g(can)i(get)f(into)e(problems)104 1769 y(with)j(them)i(\(1E10)f(is)g(a)h(real)g(number\).)21 b(A)13 b(name)g(is)g(seen)g(as)g(being)f(a)h(reference)h(to)e(some)h(value)g(in)f(a)h(dictionary)e(on)h(the)1041818 y(dictionary)c(stack.)104 1885 y(It)k(should)f(be)h(noted)g(that)g(there)g(are)i(a)e(couple)h(of)f(names)h(that)f(are)h(legal)f(in)g(PostScript)f(which)h(do)g(not)g(follow)f(the)h(above)1041935 y(de\256nition.)g(These)f(are)g(the)f('[')g(and)g(the)g(']')g(operators.)j(Y)m(es,)d(they)g(are)h(operators)f(and)g(are)h(stored)e(in)h(the)g(dictionary)n(.)h(Some)104 1984 y(other)e(names)j(that)e(might)f(surprise)h(you)f(are:)14 b(')p Fg(=)p Fk(',)d(')pFg(==)p Fk(',)f(')p Fg(<<)p Fk(',)g(and)g(')p Fg(>>)pFk('.)104 2051 y(If)g(a)i(name)f(is)g(preceded)h(by)e(a)i(slash,)f(PostScript)f(will)f(place)j(the)e(name)i(on)e(the)h(stack)g(as)h(an)f(operand.)k(If)c(the)f(name)i(has)f(no)104 2101 y(slash,)e(the)e(interpreter)g(will)f(look)h(up)h(its)f(value)h(in)f(the)g(dictionary)g(stack.)13 b(If)8 b(the)g(value)f(is)h(a)g(procedure)g(object,)g(the)g(procedure)104 2150 y(will)h(be)h(evaluated.)15 b(If)10b(the)g(value)g(is)g(not)f(a)i(procedure,)g(the)f(value)g(will)f(be)i(pushed)f(onto)f(the)h(operand)g(stack.)0 2233 y Fl(Number)21b Fk(PostScript)12 b(supports)f(integers)i(and)g(reals.)22b(Y)m(ou)11 b(can)j(express)f(numbers)g(in)f(two)g(forms:)18b(radix)13 b(form,)g(and)g(scienti\256c)104 2283 y(notation.)k(Radix)12b(form)g(is)f(a)i(number)f(of)g(the)g(form)f Ff(radix)pFk(#)p Ff(value)h Fk(where)g Ff(radix)g Fk(speci\256es)h(the)f(base)h(for)f Ff(value)p Fk(.)19 b(Scienti\256c)104 2333 y(notation)8b(is)i(the)g(standard)g Ff(mantissa)p Fk(E)p Ff(exponent)gFk(form)g(used)g(in)g(most)g(languages.)0 2416 y Fl(String)20b Fk(Strings)7 b(are,)j(of)e(course,)i(just)d(strings)g(of)h(characters.)15 b(There)9 b(are)g(two)f(ways)g(of)g(expressing)g(strings)f(in)h(Level)h(1)f(PostScript.)104 2466 y(The)k(most)f(common)g(way)h(is)f(to)f(wrap)h(your)g(text)f(in)h(parentheses.)18b(For)10 b(example)i(the)f(string)f(\252This)i(is)f(a)g(string\272)g(would)f(be)104 2516 y(written)d(as)j Fg(\(This)25 b(is)f(a)h(string\))p Fk(.)13 b(Y)m(ou)8 b(can)i(also)f(express)g(a)h(string)d(as)j(hexidecimal)f(codes)h(in)e(angle)h(brackets.)14 b(For)1042566 y(example,)c(the)f(string)e(\252ABC\272)j(would)d(be)j(expressed)f(as)h Fg(<414243>)p Fk(.)j(There)d(are)f(several)h(escape)g(codes)g(that)e(may)i(be)f(used)104 2615 y(in)g(the)i(parenthesis)f(format)g(of)g(strings.)965 2794 y(6)p eop%%Page: 7 87 7 bop 0 42 a Fl(Array)21 b Fk(Arrays)12 b(in)f(PostScript)g(are)h(like)g(arrays)g(in)f(any)h(other)f(language.)19 b(Arrays)12b(may)g(contain)g(objects)f(of)h(diff)-5 b(ere)q(nt)14b(type,)e(and)104 91 y(they)7 b(are)i(written)e(as)h(a)h(list)d(of)i(objects)g(surrounded)e(by)i(brackets.)14 b(For)7 b(instance,)iFg([12)25 b(/Foo)f(5])8 b Fk(is)g(a)g(three)g(element)h(array)104141 y(containing)f(the)j(number)f(12,)g(the)g(name)h(Foo,)g(and)f(the)g(number)g(5.)0 224 y Fl(Procedure)22 b Fk(A)7 b(procedure)h(is)f(your)g(way)h(of)f(de\256ning)g(new)h(operators.)13 b(A)8 b(procedure)f(is)h(an)g(array)g(that)f(is)g(executable)h(and)g(is)f(written)104274 y(with)f(braces)j(rather)e(than)g(brackets.)14 b(For)7b(example,)i(a)f(procedure)f(to)g(square)h(the)f(top)g(element)h(on)f(the)g(stack)h(might)f(be)g(written)104 324 y(as:)14b Fe(f)p Fg(dup)24 b(mul)p Fe(g)p Fk(.)14 b(W)n(e)9 b(can)i(de\256ne)g(this)f(procedure)g(to)g(be)g(the)g(square)h(operator)f(with:)iFg(/square)24 b Fe(f)p Fg(dup)g(mul)p Fe(g)h Fg(def)pFk(.)965 2794 y(7)p eop%%Page: 8 98 8 bop 0 353 a Fj(Chapter)22 b(5)0 560 y Fm(Pr)o(ogramming)i(in)h(PostScript)0 781 y Fk(Programming)10 b(in)g(PostScript)f(is)h(really)g(pretty)g(easy)n(.)k(The)d(fundamentals)g(are)g(that)f(you)f(push)h(operands)h(onto)e(the)h(operand)h(stack)0 830 y(by)f(naming)h(them,)g(and)g(then)f(you)g(invoke)g(the)h(operand)f(to)h(use)g(them.)k(That')o(s)10 b(really)g(all)h(there)g(is)f(to)g(it.)15 b(The)c(real)g(art)g(is)g(knowing)0 880 y(which)f(operand)h(to)f(use.)17b(Operators)10 b(to)g(draw)h(and)g(put)f(text)g(on)h(the)g(screen)g(will)f(be)h(covered)g(later)o(,)g(and)g(these)g(make)h(up)e(the)h(bulk)0 930 y(of)f(PostScript)f(code,)i(but)f(there)g(are)h(a)g(couple)f(that)f(are)j(used)e(mainly)g(for)f(maintaining)g(the)h(program)g(itself.)62 980 y(The)h(\256rst)e(of)h(these)g(operators)g(is)gFg(def)p Fk(.)j Fg(def)d Fk(is)g(responsible)f(for)h(entering)f(a)h(de\256nition)e(into)h(the)h(top-most)e(dictionary)h(on)g(the)01030 y(dictionary)h(stack.)17 b(The)12 b(top)f(operand)g(on)g(the)g(operand)g(stack)h(is)f(the)g(value,)h(and)g(the)f(operand)g(below)g(the)g(value)h(is)f(the)g(key)g(\(and)0 1079 y(should)d(be)i(a)g(name\).)k(Let')o(s)9 b(say)g(that)g(we)h(wanted)f(to)g(de\256ne)h(the)f(name)h Fg(x)f Fk(to)g(have)h(a)g(value)f(of)g(5.)14b(The)c(PostScript)e(to)g(do)h(this)g(is:)j Fg(/x)0 1129y(5)25 b(def)p Fk(.)14 b(Notice)c(the)g(use)h(of)f(the)g(slash)h(on)f(the)g Fg(x)p Fk(.)k(The)d(slash)g(ensures)g(that)f(the)gFf(name)g Fg(x)g Fk(will)g(be)g(pushed)g(onto)g(the)g(stack)g(and)h(not)0 1179 y(any)f(value)h(it)e(may)i(already)f(have)h(in)f(the)g(dictionary)f(stack.)62 1229 y Fg(def)h Fk(is)f(also)h(used)g(to)f(de\256ne)h(new)g(operators.)j(The)e(value)e(in)g(this)g(case)i(is)f(just)f(a)h(procedure.)k(The)c(following)d(code)j(de\256nes)h(an)01279 y(operator)d Fg(foo)h Fk(which)f(adds)h(its)f(top-most)g(two)g(operands)h(and)f(multiplies)f(the)i(result)f(with)g(the)g(next)h(operand)f(on)h(the)f(stack:)13 b Fg(/foo)0 1329 y Fe(f)pFg(add)24 b(mul)p Fe(g)h Fg(def)p Fk(.)14 b(Remember)o(,)d(operands)f(that)g(return)f(results)h(push)g(them)g(onto)f(the)i(stack,)g(where)f(they)g(may)h(be)g(used)f(later)o(.)62 1378 y(An)g(important)f(point)f(to)h(know)h(when)g(de\256ning)f(procedures)h(is)g(that)f(the)h(elements)h(in)e(the)h(procedure)g(are)h(not)e(evaluated)h(until)01428 y(the)e(procedure)g(is)g(invoked.)k(That)d(means)g(that)f(in)f(the)h(procedure)h Fe(f)p Fg(1)24 b(2)h(add)g(3)f(mul)pFe(g)p Fk(,)9 b(the)f(actual)g(names)i('add')e(and)g('mul')f(are)01478 y(stored)j(in)g(the)h(array)g(that)f(is)h(the)f(procedure.)16b(This)10 b(is)h(diff)-5 b(erent)14 b(from)c(an)h(actual)g(array)g(in)f(which)g(the)h(components)f(are)i(evaluated)0 1528 y(when)e(the)g(array)h(is)f(created.)15 b(For)10 b(contrast,)g(the)g(array)hFg([1)25 b(2)g(add)f(3)h(mul])10 b Fk(contains)g(one)g(object:)j(the)d(number)g(9.)62 1578 y(This)j(delayed)g(evaluation)f(of)g(procedure)h(components)g(has)g(two)f(important)g(eff)l(ec)q(ts.)24b(First,)13 b(the)g(de\256nition)e(of)i(an)g(operator)01627 y(used)d(in)f(a)h(procedure)f(is)h(the)f(one)h(that)f(is)g(in)g(eff)m(ect)k(when)c(the)h(procedure)f(is)h(run,)f Ff(not)19b Fk(when)9 b(it)g(is)g(de\256ned.)14 b(Second,)d(because)g(each)01677 y(operator)h(has)g(to)g(be)h(looked)e(up)h(each)h(time)f(the)g(procedure)h(is)f(invoked,)g(things)f(can)i(be)f(a)h(little)d(slow)n(.)19 b(Fortunately)n(,)11 b(PostScript)0 1727 y(provides)c(a)i(handy)f(operator)f(to)h(replace)h(each)g(name)g(in)f(a)h(procedure)f(object)g(with)f(it')o(s)f(current)i(de\256nition.)j(This)d(operator)g(is)g(called)0 1777 y Fg(bind)p Fk(,)i(and)h(it)e(can)i(speed)g(up)f(your)f(program)h(considerably)n(.)j Fg(bind)d Fk(is)g(typically)f(used)h(as:)k Fg(/foo)25 b Fe(f)p Fg(add)f(mul)p Fe(g)g Fg(bind)h(def)pFk(.)62 1827 y(This)8 b(de\256nes)h Fg(foo)g Fk(to)e(be)i(a)g(procedure)f(array)h(with)e(two)h(components:)k(the)c(procedures)g(for)g Fg(add)g Fk(and)h Fg(mul)p Fk(.)k(Note)8 b(that,)g(if)gFg(add)0 1876 y Fk(or)h Fg(mul)h Fk(is)f(re-de\256ned)i(after)e(de\256ning)g Fg(foo)p Fk(,)h Fg(foo)g Fk(will)e(have)i(the)gFf(same)20 b Fk(behavior)9 b(as)h(before.)k(W)o(ithout)8b(the)h(use)h(of)g Fg(bind)p Fk(,)g Fg(foo)p Fk(')o(s)01926 y(behavior)g(would)f(change.)965 2794 y(8)p eop%%Page: 9 109 9 bop 0 353 a Fj(Chapter)22 b(6)0 560 y Fm(Drawing)i(and)j(Filling)d(Shapes)0 801 y Fi(Principles)0 894 y Fk(The)11 b(main)g(purpose)g(of)f(PostScript)g(is)g(to)h(draw)f(graphics)h(on)f(the)h(page.)16b(One)11 b(of)g(the)f(elegant)h(aspects)h(of)e(PostScript)g(is)g(that)h(even)0 944 y(text)e(is)h(a)g(kind)e(of)i(graphic.)j(The)e(main)e(task)h(that)f(must)h(be)g(mastered,)h(then,)e(is)h(constructing)e(paths)h(which)h(may)g(be)g(used)g(to)f(create)0 993 y(the)h(image.)621043 y(T)n(o)g(draw)g(and)h(\256ll)e(shapes,)i(the)g(basic)f(sequence)i(is:)62 1112 y Fe(\017)21 b Fk(Start)10 b(the)g(path)g(with)f(the)hFg(newpath)g Fk(operator)o(.)62 1187 y Fe(\017)21 b Fk(Construct)9b(the)h(path)g(out)f(of)h(line)g(segments)g(and)h(curves)f(\(the)g(path)g(need)h(not)e(be)i(contiguous\).)62 1263 y Fe(\017)21b Fk(Draw)10 b(the)g(path)g(with)f(the)i Fg(stroke)eFk(operator)h(or)g(\256ll)g(it)f(in)h(with)f(the)h Fg(fill)gFk(operator)o(.)62 1331 y(This)g(basic)h(sequence)h(can)f(be)f(modi\256ed)g(to)g(do)g(more)g(complicated)h(things)e(as)i(we)f(will)f(see)j(later)o(.)0 1468 y Fi(Drawing)i(a)h(Box)0 1560y Fk(In)10 b(this)f(\256rst)h(example,)h(we)f(will)f(draw)h(a)h(square)f(inch)g(box)f(toward)g(the)h(lower)g(left)f(corner)h(of)g(the)g(page.)k(W)n(e)c(start)f(off)g(by)h(de\256ning)0 1610 y(a)g(function)d(to)i(convert)f(inches)h(into)f(PostScript')o(s)f(main)i(unit,)f(the)h(point)f(\(a)h(point)f(is)g(de\256ned)i(in)e(PostScript)g(as)i(1/72th)d(of)i(an)g(inch\).)0 1660 y(The)h(conversion)e(is)g(simple,)i(we)f(just)f(multiply)f(the)h(number)h(of)g(inches)g(by)f(72.)13b(This)c(gives)g(us)g(the)f(function)g Fg(/inch)24 bFe(f)p Fg(72)g(mul)p Fe(g)0 1710 y Fg(def)p Fk(.)62 1760y(T)n(o)8 b(actually)g(draw)h(the)f(square,)i(we)f(start)f(a)h(new)g(path)f(and)h(move)f(the)h(current)f(point)f(to)h(a)h(point)e(an)i(inch)f(in)g(from)g(both)g(margins.)0 1809 y(This)i(is)g(accomplished)h(with)e(the)h(code:)100 1878 y Fg(newpath)100 1928 y(1)24b(inch)h(1)g(inch)f(moveto)62 1996 y Fk(At)10 b(this)f(point,)g(the)h(path)f(contains)h(only)f(the)g(point)g(\(72,)h(72\).)j(W)n(e)c(add)i(in)e(line)g(segments)i(leading)e(away)i(from)f(this)f(point)f(with)02046 y(the)i(lineto)f(operator)o(.)j(This)e(operator)f(adds)i(a)f(line)g(segment)g(from)g(the)g(current)g(point)f(to)g(the)h(point)f(speci\256ed)h(to)g(lineto)f(and)h(makes)0 2096 y(that)g(point)e(the)i(new)h(current)f(point.)i(W)n(e)e(can)h(build)e(three)h(sides)h(of)f(the)g(box)f(as)i(follows:)100 2169 y Fg(2)24 b(inch)h(1)g(inch)f(lineto)100 2219 y(2)g(inch)h(2)g(inch)f(lineto)100 2268y(1)g(inch)h(2)g(inch)f(lineto)62 2341 y Fk(W)n(e)13b(can)h(add)f(the)g(last)g(line)f(by)h(telling)e(PostScript)h(to)g(close)i(up)f(the)g(path)f(with)g(the)h(smallest)h(possible)e(line)g(segment.)23 b(The)0 2391 y Fg(closepath)8 b Fk(operator)g(does)h(this.)j(This)d(operator)f(is)g(especially)h(useful)f(if)g(you)g(need)h(a)g(closed)g(\256gure)f(for)g(\256lling.)k(Once)d(we)h(have)02441 y(closed)h(the)f(path,)h(we)g(can)g(draw)g(it)f(with)f(the)hFg(stroke)h Fk(operator)o(.)i(W)n(e)d(\256nish)g(off)f(the)h(example)i(by)e(ejecting)g(the)g(page)h(\(if)f(you)g(are)0 2491y(using)f(a)i(printer\).)i(PostScript)c(ejects)i(a)g(page)f(with)g(the)g Fg(showpage)f Fk(operator:)100 2564 y Fg(closepath)1002614 y(stroke)100 2663 y(showpage)965 2794 y Fk(9)p eop%%Page: 10 1110 10 bop 0 42 a Fi(Re\256nements)0 134 y Fk(The)10 bFg(lineto)e Fk(operator)g(works)h(in)f(absolute)g(coordinates)h(within)e(user)i(space.)15 b(That)9 b(is,)g Fg(72)25 b(72)f(lineto)9b Fk(adds)g(a)g(line)g(segment)0 184 y(from)h(the)f(current)g(point)g(to)g(the)g(point)f(\(72,)i(72\))f(in)g(user)h(space.)15b(In)10 b(drawing)f(the)g(box,)h(however)o(,)f(it)g(is)h(more)g(convenient)f(to)g(ignore)0 234 y(the)i(absolute)g(coordinates)f(of)h(the)g(box')o(s)e(vertices)i(and)h(think)d(instead)i(of)g(the)g(lengths)f(and)h(directions)f(of)h(its)f(sides.)17 b(Fortunately)n(,)0284 y(PostScript)11 b(provides)h(a)h(version)e(of)h Fg(lineto)gFk(which)g(takes)h Ff(r)o(elative)24 b Fk(coordinates)12b(instead.)20 b(This)12 b(is)h(the)f Fg(rlineto)g Fk(operator)o(.)0333 y Fg(rlineto)f Fk(adds)g(the)g(coordinates)f(given)h(as)g(operands)h(to)e(the)h(coordinates)f(of)h(the)g(current)g(point)e(in)i(the)g(path)g(to)f(\256nd)h(the)g(desti-)0 383 y(nation)f(point.)17b(That)11 b(is,)h Fg(10)25 b(20)g(rlineto)11 b Fk(will)f(draw)h(a)h(line)f(from)g(the)h(current)f(point)f(to)h(a)h(point)e(10)h(points)f(to)h(the)g(right)f(and)0 433 y(20)g(points)e(toward)h(the)h(top)f(of)h(the)g(page.)k(This)c(is)f(in)h(contrast)f(to)h Fg(10)24b(20)h(lineto)9 b Fk(which)h(adds)g(a)h(line)e(segment)h(which)gFf(always)0 483 y Fk(ends)g(at)h(\(10,)f(20\).)62 533y(T)n(o)g(see)h(how)f(we)h(can)g(use)g Fg(rlineto)p Fk(,)f(let')o(s)e(replace)j(the)g Fg(lineto)e Fk(lines)h(in)g(the)g(last)g(example)h(with)e(the)h(following)e(code:)100 624 y Fg(1)24 b(inch)h(0)g(inch)f(rlineto)100 674 y(0)g(inch)h(1)g(inch)f(rlineto)100724 y(-1)g(inch)h(0)g(inch)f(rlineto)62 815 y Fk(This)11b(new)h(example)g(will)d(draw)j(the)e(same)j(\256gure,)f(but)e(it)g(draws)i(the)f(lines)f(using)g(relative)h(coordinates)g(instead)f(of)h(absolute.)0 865 y(This)c(makes)i(it)d(a)i(little)e(easier)i(to)e(visualize)h(and)h(has)f(the)h(added)f(bene\256t)h(that)e(the)h(same)i(code)f(can)g(draw)f(the)g(three)h(lines)f(at)g(a)h(diff)-5b(ere)q(nt)0 914 y(location.)20 b(Note)12 b(that)g(a)h(negative)f(relative)h Ff(x)25 b Fk(coordinate)12 b(moves)h(the)g(point)e(in)h(the)g(left)g(direction)f(while)h(a)h(negative)f(relative)hFf(y)0 964 y Fk(coordinate)d(moves)g(the)g(point)f(down)h(the)g(page.)01104 y Fi(Filling)j(Shapes)0 1197 y Fk(Filling)8 b(a)i(shape)h(is)f(just)f(as)h(easy)h(as)g(drawing)e(it.)k(Y)m(ou)c(create)i(the)f(path)f(using)g(the)h(standard)g(path)f(creation)h(operators,)g(but)f(instead)0 1246 y(of)g(calling)f Fg(stroke)h Fk(at)g(the)g(end,)h(you)e(invoke)h(the)g Fg(fill)g Fk(operator)o(.)j(The)d Fg(fill)g Fk(operator)g(will)f(\256ll)g(the)h(path)g(with)f(the)h(current)g(ink)0 1296y(settings.)16 b(If)c(you)e(want)h(to)g(\256ll)g(a)h(shape)g(with)e(a)i(pattern,)f(you)g(will)f(need)i(to)f(do)g(some)h(special)g(tricks)f(which)f(we)i(will)e(cover)i(later)o(.)0 1346 y(W)n(e)e(will)f(use)h(the)g(box)g(from)g(above)h(as)g(an)f(example,)i(but)d(we)i(replace)g(the)f(original)f(invocation)f(of)i Fg(stroke)g Fk(with)fFg(fill)p Fk(.)62 1396 y Fg(fill)h Fk(uses)h(a)g(simple)g(winding)d(rule)i(\(which)g(is)g(described)h(in)f(the)g Ff(Pr)o(ogramming)f(Language)h(Refer)o(ence)i(Manual)p Fk(\))c(to)i(deter-)01446 y(mine)g(what)f(parts)h(of)f(the)h(page)g(are)h(inside)d(or)i(outside)f(the)g(path.)14 b(The)c(regions)f(that)g(are)i(inside)e(are)h(painted.)j(Note)d(that)f(arbitrarily)0 1496 y(complex)f(shapes)h(can)g(be)f(\256lled)f(with)g(this)g(operator)h(so)g(long)f(as)h(you)g(have)g(enough)g(memory)g(on)g(your)f(PostScript)g(interpreter)o(.)k(Y)m(ou)01545 y(can)h(easily)f(\256ll)f(in)g(diff)-5 b(e)q(rent)13b(shades)f(and)f(even)g(some)h(patterns,)f(but)f(to)g(\256ll)h(an)g(area)h(with)e(a)h(complex)g(image)h(takes)f(some)h(special)01595 y(eff)l(e)q(cts)h(which)d(we)h(will)e(cover)h(later)o(.)01735 y Fi(Shading)15 b(and)h(Width)0 1828 y Fk(In)10b(PostScript,)g(you)f(can)j(view)e(lines)g(as)h(being)f(drawn)g(by)g(pens)g(that)g(have)h(a)g(given)f(width)f(and)h(ink)g(as)h(having)e(particular)h(shades.)0 1877 y(Y)m(ou)g(are)j(not)e(restricted)h(to)f(completely)h(black)g(ink)f(and)h(one-point)e(wide)i(lines.)18b(PostScript)11 b(provides)g(two)h(handy)f(operators)h(to)01927 y(change)f(these)g(characteristics.)62 1977 y(The)hFg(setgray)f Fk(operator)g(sets)h(the)f(intensity)f(of)h(the)g(ink)g(used)g(in)g(drawing)g(lines)f(and)i(\256lling)e(shapes)i(\(actually)n(,)f Fg(setgray)0 2027 y Fk(aff)l(e)q(cts)j(all)c(subsequent)g(markings)h(made)h(on)e(the)h(page\).)16 b Fg(setgray)10b Fk(takes)h(a)g(single)f(numerical)h(argument)f(between)h(0)g(and)g(1.)k(0)0 2077 y(signi\256es)10 b(black,)g(and)h(1)f(signi\256es)g(white.)j(Numbers)e(between)f(these)h(two)f(values)g(signify)f(various)g(shades)i(of)f(gray)n(.)62 2126 y(The)i Fg(setlinewidth)eFk(operator)g(does)h(just)f(what)h(its)f(name)i(suggests:)j(it)10b(sets)h(the)g(width)e(of)i(lines)f(to)h(be)g(drawn.)16b(It)10 b(takes)i(a)0 2176 y(single)d(numerical)h(argument)g(which)f(is)h(the)g(width)f(of)g(the)h(line)g(in)f(points.)kFg(setlinewidth)c Fk(aff)l(e)q(cts)k(all)d(lines)f Ff(str)o(oked)hFk(after)g(the)0 2226 y(operator)g(is)g(invoked.)62 2276y(Both)h(of)g(these)i(operators)e(aff)l(e)q(ct)k(the)c(markings)h(placed)g(on)f(the)h(page)g(after)g(they)f(are)i(called...)20b(they)11 b(do)g(not)g(eff)m(ect)k(the)c(path)0 2326y(until)c(it)i(is)g(stroked)f(or)h(\256lled.)k(In)c(particular)o(,)f(you)h(can)h(not)e(set)h(the)g(width)f(or)h(gray)g(level)g(for)g(one)g(part)g(of)g(the)g(path)f(and)i(then)e(change)0 2376y(it)j(for)h(another)o(...)18 b(they)12 b(are)h(the)e(same)j(for)d(all)h(parts)g(of)g(the)f(path,)i(since)f(it)g(is)f(stroked)h(or)f(\256lled)h(only)f(once.)20 b(Also,)12 b(both)f(of)h(these)0 2425y(operators)e(aff)l(e)q(ct)j(part)d(of)g(the)g(graphics)g(state)g(and)h(can)g(be)f(saved)h(with)e Fg(gsave)h Fk(and)h(restored)f(with)fFg(grestore)p Fk(.)954 2794 y(10)p eop%%Page: 11 1211 11 bop 0 353 a Fj(Chapter)22 b(7)0 560 y Fm(Putting)27b(T)-9 b(ext)25 b(on)h(the)g(Page)0 781 y Fk(Printing)8b(text)i(on)g(a)g(page)h(is,)g(understandably)n(,)d(a)j(simple)f(process.)15 b(It)10 b(consists)g(basically)f(of)h(these)h(main)f(steps:)62 862 y Fe(\017)21 b Fk(Set)10 b(up)g(a)h(font)e(to)h(use)62944 y Fe(\017)21 b Fk(Set)10 b(the)g(current)g(point)f(to)h(where)g(the)h(lower)e(left)h(corner)h(of)e(the)i(text)e(will)g(be)621027 y Fe(\017)21 b Fk(Give)10 b(the)g(string)f(to)h(print)e(to)i(the)gFg(show)g Fk(operator)62 1108 y(The)h Fg(show)f Fk(operator)g(is)g(the)g(basic)g(operator)g(for)g(printing)e(strings)h(of)g(text.)14b(It)c(takes)g(a)h(string)e(and)h(prints)f(it)g(out)h(in)f(the)h(current)0 1158 y(font)f(and)g(with)g(the)h(lower)f(left)g(corner)h(at)g(the)f(current)h(point.)i(After)e(the)f(text)g(has)h(been)h(printed,)d(the)i(current)f(point)g(is)g(at)h(the)f(lower)0 1208y(right)g(of)h(the)g(string.)0 1347 y Fi(Fonts)0 1440y Fk(Fonts)j(in)g(PostScript)f(are)i(actually)f(dictionaries.)23b(A)13 b(font)g(dictionary)e(contains)i(several)h(operators.)24b(Most)13 b(of)g(these)g(operators)0 1490 y(simply)e(set)h(up)f(the)g(path)h(for)f(a)h(single)f(character)i(in)e(the)g(font.)17b(When)12 b(PostScript)f(needs)h(to)f(typeset)g(an)h(`A)l(')f(in)g(the)g(current)h(font,)0 1540 y(it)e(\256nds)h(the)g(operator)g(speci\256ed)h(in)e(the)i(font)e(for)g(`A)l(')h(and)g(invokes)f(it.)16b(This)c(operator)e(goes)h(about)g(the)g(business)g(of)g(drawing)f(the)0 1589 y(letter)o(.)15 b(This)c(means)i(that)d(there)i(is)f(no)f(fundamental)h(diff)-5 b(e)q(rence)15 b(between)d(letters)f(and)g(any)g(other)g(kind)f(of)h(ink)f(on)h(the)g(page:)16 b(text)01639 y Ff(is)j Fk(graphics.)14 b(Furthermore,)c(since)g(a)g(font)e(is)i(essentially)f(just)f(a)j(program)e(to)g(draw)h(things,)e(the)i(current)f(graphics)h(state)f(applies)h(to)0 1689 y(text)f(just)f(as)i(much)g(as)f(it)g(applies)g(to)g(lines)f(and)i(curves)f(which)g(your)g(program)g(draws.)14 b(This)9 b(is)g(one)g(of)g(the)g(most)g(powerful)g(features)0 1739 y(of)h(PostScript,)f(as)i(we)g(will)e(see)i(later)o(.)62 1789 y(The)g(fonts)f(themselves)h(are)g(stored)f(in)f(a)i(special)g(dictionary)e(of)h(fonts,)g(and)g(they)g(are)h(named.)k(If)10b(you)g(want)g(to)g(retrieve)g(a)h(font)0 1838 y(by)d(name,)i(you)e(need)h(to)f(use)h(the)f Fg(findfont)g Fk(operator)o(.)kFg(findfont)c Fk(retrieves)g(the)h(font)e(from)i(the)f(dictionary)f(\(if)h(it)f(is)i(there\))f(and)0 1888 y(leaves)k(the)f(font)f(on)g(the)h(stack.)16 b(Y)m(ou)10 b(can)i(then)e(specify)h(how)g(big)f(the)g(font)g(should)g(be)h(and)g(make)h(it)f(the)f(current)h(font.)k(The)d(basic)0 1938 y(process)f(for)f(setting)f(the)h(font)f(is:)622028 y Fe(\017)21 b Fk(Retrieve)10 b(the)g(font)f(from)h(the)g(dictionary)f(with)g Fg(findfont)p Fk(,)62 2110 y Fe(\017)21b Fk(Set)10 b(the)g(size)h(of)f(the)g(font)g(with)f Fg(scalefont)pFk(,)62 2192 y Fe(\017)21 b Fk(Make)11 b(this)e(new)i(font)e(the)h(current)g(font)f(with)g Fg(setfont)62 2282 y(scalefont)fFk(takes)i(two)e(arguments,)h(the)g(lower)f(argument)g(on)h(the)g(stack)g(is)g(a)g(font)f(dictionary)g(while)g(the)h(second)g(is)g(the)f(size)0 2331 y(of)h(the)g(new)g(font)g(in)f(points.)13b Fg(scalefont)8 b Fk(returns)h(a)h(new)f(font)f(dictionary)g(which)h(is)g(the)g(same)h(as)g(the)f(old)g(one)g(but)g(scaled)h(to)e(the)02381 y(given)i(size.)k Fg(setfont)p Fk(,)c(on)g(the)g(other)g(hand,)h(takes)f(a)h(font)e(dictionary)g(and)h(makes)i(it)d(the)h(current)g(font.)62 2431 y(For)f(example,)h(let)f(us)g(say)g(that)g(we)g(want)g(to)f(start)h(typesetting)e(in)i(Times)f(Roman,)i(and)f(we)g(want)g(it)f(to)h(be)g(set)g(to)g(20)f(points.)k(The)0 2481 y(following)c(code)j(would)e(set)h(up)g(the)g(correct)h(font:)100 2570 yFg(/Times-Roman)23 b(findfont)i(\045)f(Get)h(the)g(basic)f(font)1002620 y(20)g(scalefont)249 b(\045)24 b(Scale)h(the)f(font)h(to)g(20)f(points)100 2670 y(setfont)373 b(\045)24 b(Make)h(it)g(the)f(current)g(font)955 2794 y Fk(1)o(1)p eop%%Page: 12 1312 12 bop 62 42 a Fk(Since)9 b(the)f(font)g(\252Times-Roman\272)g(is)g(stored)g(in)g(a)h(dictionary)n(,)e(we)i(search)g(for)f(it)g(using)f(its)h(PostScript)f(name.)15 b(Y)m(our)6 b(printer)h(will)091 y(usually)g(come)i(with)e(a)i(set)f(of)g(built)e(in)i(fonts)f(and)h(will)f(almost)h(always)h(allow)e(you)h(to)f(add)h(more.)14b(The)9 b(names)g(of)f(the)g(fonts)f(available)0 141y(will)i(vary)h(from)h(printer)e(to)h(printer)o(,)f(but)g(Times)h(is)g(almost)h(always)f(present.)15 b(Fonts)10 b(typically)f(come)i(in)f(families.)k(\252Times\272)d(is)f(the)0 191 y(name)i(of)f(the)g(family)g(we)g(used)h(here,)g(and)f(it)f(has)i(four)e(member)j(fonts:)h(Times-Roman,)d(Times-Italic,)f(Time-Bold,)g(and)h(Times-)0241 y(BoldItalic.)0 381 y Fi(Showing)k(T)l(ext)0 473y Fk(The)e Fg(show)f Fk(operator)f(is)h(used)h(to)e(typeset)h(text)f(on)h(the)g(page.)20 b(It)12 b(takes)h(a)f(single)g(argument:)k(a)c(string)f(containing)g(the)h(text)f(to)h(be)0 523 y(typeset.)j(T)n(ext)10 b(can)i(be)f(considered)f(to)g(be)h(part)g(of)f(the)h(path,)g(so)f(you)g(must)h(also)g(have)g(set)g(the)f(current)h(point)e(with)h(call)g(to)g(moveto)0 573 y(or)g(an)h(equivalent)e(operator)o(.)j(A)e(typical)g(call)g(to)g(show)g(might)f(look)g(like)h(this:)100664 y Fg(newpath)348 b(\045)24 b(Start)h(a)g(new)f(path)100714 y(72)g(72)h(moveto)224 b(\045)24 b(Lower)h(left)f(corner)h(of)f(text)h(at)g(\(72,)f(72\))100 764 y(\(Hello,)g(world!\))g(show)h(\045)f(Typeset)h(``Hello,)f(world!'')62 855 y Fk(If)9 b(we)g(ran)f(this)g(code)h(right)e(after)h(the)h(font)e(selection)h(code)h(above,)h(we)f(would)e(get)i(the)f(string)f(\252Hello,)i(world!\272)j(printed)c(an)g(inch)0 905 y(in)i(from)g(the)g(lower)g(left)f(corner)o(,)i(and)f(it)f(would)g(be)i(printed)e(in)h(20)g(point)e(Times-Roman.)9542794 y(12)p eop%%Page: 13 1413 13 bop 0 353 a Fj(Chapter)22 b(8)0 560 y Fm(T)-7 b(ransformations)0776 y Fk(The)8 b(PostScript)d(interpreter)h(keeps)h(track)g(of)g(a)g(matrix)g(called)g(the)f(current)h(transformation)e(matrix.)13b(When)7 b(constructing)e(an)i(image,)0 826 y(the)h(interpreter)e(uses)j(this)d(matrix)i(to)f(convert)g(the)h(world)e(coordinates)i(used)g(by)f(the)h(program)f(into)g(device)h(coordinates)f(used)h(by)f(the)0876 y(printer)i(itself.)k(Generally)n(,)c(the)h(actual)g(contents)f(of)g(the)h(matrix)f(are)i(of)e(little)f(interest)h(to)g(a)i(well-written)c(PostScript)i(program;)g(the)0 926 y(reason)i(for)g(this)f(is)g(that)h(the)f(speci\256c)i(contents)f(are)g(device-dependent.)16b(A)11 b(program)g(that)f(uses)h(them)g(might)f(not)g(work)h(properly)n(.)0 975 y(PostScript)c(does)i(provide)f(a)h(number)g(of)f(operators,)h(however)o(,)g(that)f(transform)g(the)g(matrix)h(in)f(a)h(device-independent)f(way)n(.)13 b(These)0 1025 y(operators)7b(allow)f(you)g(to)h(transform)f(the)h(way)h(user)f(space)h(maps)g(onto)e(device)i(space,)h(and)e(they)g(modify)f(the)h(current)g(transformation)0 1075 y(matrix)j(with)f(a)i(simple)f(matrix)g(transformation.)i(The)f(basic)g(transformation)e(operators)g(are:)621158 y Fe(\017)21 b Fg(rotate)62 1241 y Fe(\017)g Fg(translate)621324 y Fe(\017)g Fg(scale)62 1407 y Fk(It)11 b(is)g(useful)f(to)h(realize)h(that)e(the)h(current)g(transformation)f(matrix)g(\(and,)i(hence)g(the)f(eff)l(e)q(ct)j(of)d(all)g(these)g(operators\))g(is)g(part)f(of)0 1457 y(the)j(current)g(graphics)g(state)h(and)f(can)h(be)g(saved)g(and)f(restored)h(using)e(the)h Fg(gsave)p Fk(,)h(and)gFg(grestore)f Fk(operators.)22 b(In)14 b(addition,)01507 y(the)d(transformations)f(on)g(the)h(matrix)g(aff)l(ec)q(t)j(path)c(components)h(constructed)g Ff(after)f Fk(the)h(transformation.)k(Even)d(if)e(a)i(path)e(is)h(only)0 1557 y(partially)6b(constructed)i(when)f(a)i(transformation)d(is)i(invoked,)f(the)h(parts)g(of)f(the)h(path)f(that)h(were)g(in)f(place)i(before)f(the)g(transformation)0 1606 y(will)h(be)i(unaff)-5 b(e)q(cted.)01746 y Fi(Rotate)0 1839 y Fk(The)11 b Fg(rotate)f Fk(operator)g(takes)i(a)f(single,)f(numerical)h(operand.)k(This)10 b(operand)h(speci\256es)g(how)g(many)g(degrees)g(to)f(rotate)g(the)h(user)0 1889y(space)j(around)d(its)h(origin)e(\(positive)h(values)i(specify)f(counter)g(clockwise)g(rotations\).)18 b(This)13 b(transform)e(allows)h(you)g(to)f(do)h(some)0 1938 y(pretty)d(neat)h(tricks.)j(For)d(example,)h(let')o(s)d(say)j(you)e(have)h(written)f(a)i(routine)d(to)i(draw)g(some)g(complex)g(shape;)g(and)g(you)g(have)g(found)01988 y(that)g(you)h(need)g(to)g(draw)g(it)f(several)i(times)f(at)g(diff)-5 b(e)q(rent)14 b(angles.)i(In)11 b(a)h(more)f(primitive)e(graphics)i(system,)h(you)f(might)f(need)h(to)g(re-)02038 y(write)i(to)f(routine)g(to)h(take)g(an)h(angle)f(as)h(an)f(argument,)h(but)e(in)h(PostScript)f(you)g(only)g(need)i(to)f(rotate)f(the)h(coordinates)g(with)f(the)0 2088 y Fg(rotate)eFk(operator)o(.)62 2138 y(As)g(a)f(concrete)h(example,)h(let')o(s)d(say)h(you)g(want)g(to)f(draw)i(lines)f(in)f(a)i(circular)f(pattern)g(so)g(that)g(each)h(line)e(is)i(ten)f(degrees)h(from)f(its)02188 y(neighbors.)k(Rather)c(than)g(\256gure)h(out)f(the)g(coordinates)g(for)h(each)g(of)g(the)f(36)h(lines,)f(we)h(can)h(just)e(draw)g(a)i(horizontal)d(line)h(and)g(rotate)0 2237 y(it)f(repeatedly)g(to)h(diff)-5 b(erent)11 b(angles.)j(T)n(o)8 b(do)g(the)h(repeated)g(looping,)f(we)h(can)g(use)g(the)g Fg(for)f Fk(operator)o(.)k(The)dFg(for)g Fk(operator)f(takes)h(four)0 2287 y(arguments:)14b(an)d(initial)e(index)i(value,)g(a)h(step)f(size,)h(a)g(\256nal)f(index)f(value,)i(and)f(a)g(procedure.)17 b(The)12 b(operator)e(increments)h(an)h(index)0 2337 y(from)d(the)g(initial)f(value)h(to)g(the)g(\256nal)g(value,)h(incrementing)e(it)h(by)g(the)g(step)g(size.)15 b(For)9 b(each)h(index)f(value,)h Fg(for)f Fk(will)f(push)h(the)g(index)0 2387 y(on)h(the)g(stack)h(and)f(execute)h(the)f(procedure.)k(This)d(gives)f(you)f(a)i(simple)f(means)i(of)d(looping.)622437 y(W)n(e)j(start)f(by)h(setting)f(up)g(the)h Fg(for)gFk(loop.)18 b(At)12 b(the)g(beginning)e(of)h(the)h(loop')o(s)e(procedure,)j(we)f(start)g(a)g(new)h(path)e(and)h(save)h(the)02486 y(graphics)d(state.)100 2569 y Fg(0)24 b(10)h(360)g({)174b(\045)25 b(Go)g(from)f(0)h(to)g(360)f(degrees)g(in)h(10)g(degree)f(steps)149 2619 y(newpath)199 b(\045)25 b(Start)f(a)h(new)g(path)1492669 y(gsave)249 b(\045)25 b(Keep)f(rotations)g(temporary)9542794 y Fk(13)p eop%%Page: 14 1514 14 bop 62 42 a Fk(W)n(e)11 b(next)g(set)h(the)f(start)g(of)g(the)h(line)f(to)g(\(144,)g(144\))g(and)g(rotate)g(the)h(coordinates,)f(we)h(do)f(not)g(rotate)g Ff(befor)o(e)g Fk(moving)g(because)091 y(\(144,)f(144\))f(would)g(then)h(be)h(in)f(a)g(diff)l(erent)j(location.)149 174 y Fg(144)25 b(144)g(moveto)149 224y(rotate)224 b(\045)25 b(Rotate)f(by)h(degrees)f(on)h(stack)f(from)h(`for')62 307 y Fk(W)n(e)10 b(next)g(draw)g(just)g(a)g(horizontal)f(line:)149 390 y Fg(72)25 b(0)g(rlineto)149 440 y(stroke)62523 y Fk(Finally)n(,)9 b(we)i(restore)f(the)g(old)g(graphics)g(state)g(and)g(end)h(the)f(loop.)149 606 y Fg(grestore)199 b(\045)25b(Get)f(back)h(the)g(unrotated)f(state)100 656 y(})g(for)324b(\045)25 b(Iterate)f(over)h(angles)0 796 y Fi(T)m(ranslate)0888 y Fk(The)12 b Fg(translate)f Fk(operator)g(takes)g(two)g(operands:)16 b(an)11 b Ff(x)p Fk(-coordinate,)h(and)f(a)h Ff(y)pFk(-coordinate.)17 b(The)12 b Fg(translate)f Fk(operator)g(sets)0938 y(the)e(origin)f(of)h(user)g(space)i(to)d(the)h(point)f(that)h(was)g(at)h(the)f(given)f(coordinates)h(in)g(user)g(space.)15b(The)10 b(main)g(use)f(of)g Fg(translate)g Fk(is)g(to)0988 y(draw)h(copies)f(of)h(a)g(shape)g(in)f(diff)-5 b(e)q(rent)12b(locations.)h(T)n(ypically)n(,)7 b(a)j(shape)h(will)d(be)i(constructed)f(at)g(the)h(origin,)e(and)i(the)f(shape)h(will)f(be)01038 y(translated)h(to)h(the)f(correct)i(location)d(before)i(it)f(is)h(to)f(be)h(drawn.)16 b(A)11 b(simple)g(example)g(translates)g(a)h(box)e(constructed)g(at)h(the)g(origin)0 1087 y(to)f(the)g(point)e(\(72,)j(72\))e(in)h(the)g(original)f(user)h(space.)0 1227 yFi(Scale)0 1320 y Fk(The)h Fg(scale)f Fk(operator)g(takes)h(two)f(arguments:)i(an)f Ff(x)g Fk(scale)h(factor)o(,)e(and)g(a)hFf(y)g Fk(scale)g(factor)o(.)j(The)d(operator)f(scales)h(each)h(coordinate)0 1370 y(by)d(its)g(associated)h(scale)h(factor)o(.)h(That)e(is,)g(if)f(you)g(have)h(an)g Ff(x)g Fk(scale)h(factor)e(of)g(0.5)h(and)g(a)g Ff(y)g Fk(scale)g(factor)g(of)f(3,)h(the)fFf(x)h Fk(coordinate)f(will)0 1420 y(be)j(reduced)g(by)g(a)g(factor)g(of)g(two)f(while)g(the)h Ff(y)g Fk(coordinate)f(will)g(be)h(magni\256ed)g(by)g(a)g(factor)g(of)f(3.)19 b(This)12b(operator)f(allows)g(you)h(to)0 1469 y(change)f(the)f(size)h(and)f(dimensions)g(of)g(objects)g(quite)f(easily)n(.)62 1519y(A)i(simple)f(example)h(can)g(just)e(scale)i(text)f(in)g(a)h(couple)f(of)g(ways.)62 1569 y(W)n(e)g(can)h(make)g(things)e(narrow:)1001652 y Fg(gsave)149 1702 y(72)25 b(72)g(moveto)149 1752y(0.5)g(1)g(scale)273 b(\045)25 b(Make)g(the)f(text)h(narrow)1491801 y(\(Narrow)g(Text\))f(show)99 b(\045)25 b(Draw)g(it)1001851 y(grestore)62 1934 y Fk(W)n(e)10 b(can)h(make)g(things)e(tall:)1002017 y Fg(gsave)149 2067 y(72)25 b(144)g(moveto)149 2117y(1)g(2)g(scale)274 b(\045)24 b(Make)h(the)g(text)f(tall)1492167 y(\(Tall)h(Text\))f(show)100 b(\045)24 b(Draw)h(it)1002217 y(grestore)62 2300 y Fk(W)n(e)10 b(can)h(distort)d(the)j(text)e(completely:)100 2383 y Fg(gsave)149 2432 y(72)25 b(216)g(moveto)1492482 y(2)g(0.5)g(scale)248 b(\045)25 b(Make)g(the)f(text)h(wide)f(and)h(short)149 2532 y(\(Squeezed)f(Text\))h(show)f(\045)h(Draw)g(it)1002582 y(grestore)954 2794 y Fk(14)p eop%%Page: 15 1615 15 bop 0 42 a Fi(Combining)15 b(T)m(ransformati)o(ons)0134 y Fk(Each)c(of)f(these)h(transformations)d(merely)j(modi\256es)f(the)g(current)g(transformation)f(matrix.)k(This)d(means)i(that)d(these)i(operators)e(can)0 184 y(be)k(combined)f(for)g(some)i(interesting)c(eff)m(ec)q(ts.)23 b(For)13 b(example,)h(you)e(can)h(take)g(a)g(normal)f(document)h(and)f(print)f(two)h(of)h(its)e(pages)0234 y(on)h(a)g(single)g(page)g(\(reduced)g(and)g(placed)h(side-by-side\))e(simply)g(by)h(translating)e(the)i(\256rst)g(page)g(to)g(one)g(side,)g(rotating)f(the)h(page)0 284 y(by)g(ninety)g(degrees)h(and)g(then)f(reducing)g(the)h(page)g(so)f(that)g(it)g(\256ts.)21 b(The)14 b(second)f(page)g(is)f(handled)g(in)g(the)h(same)h(manner)o(,)f(but)f(is)0 333 y(translated)g(to)g(the)h(other)f(side)h(of)f(the)h(page.)22 b(This)13 b(can)g(be)g(easily)g(done)f(by)h(PostScript)e(postprocessors)i(so)f(long)g(as)h(they)g(know)0383 y(where)f(one)g(page)g(ends)g(and)f(the)h(next)f(begins)g(\(this)g(is)g(often)g(accomplished)h(using)f(special)h(comments\).)19b(A)11 b(somewhat)h(simpler)0 433 y(example)g(is)e(to)g(draw)h(a)h(simple)e(box)h(and)g(some)g(text)f(translated,)h(rotated,)g(and)g(scaled)h(in)e(various)g(ways.)16 b(An)11 b(important)e(thing)h(to)0483 y(remember)g(when)f(viewing)e(this)h(example)i(is)e(that)g(translations)g(are)h(always)g(relative)f(to)h(the)fFf(curr)o(ent)h(user)g(space)p Fk(.)14 b(This)9 b(means)h(that)100566 y Fg(0.5)24 b(0.5)h(scale)100 616 y(72)f(72)h(translate)0699 y Fk(will)9 b(have)i(a)g(diff)-5 b(erent)13 b(eff)l(e)q(ct)g(on)d(the)g(image)h(than)f(does)100 782 y Fg(72)24 b(72)h(translate)100831 y(0.5)f(0.5)h(scale)62 914 y Fk(In)11 b(the)f(\256rst)h(case,)i(the)d(origin)f(will)h(be)h(half)f(an)h(inch)g(in)f(from)g(the)h(bottom)e(and)i(left)f(margins.)15 b(In)c(the)f(second)h(case,)i(the)e(origin)0 964 y(will)e(be)i(an)f(inch)g(in)g(from)g(the)g(two)f(margins.)954 2794 y(15)p eop%%Page: 16 1716 16 bop 0 353 a Fj(Chapter)22 b(9)0 560 y Fm(Clipping)j(for)h(Eff)n(ect)0 781 y Fk(W)o(ithin)7 b(the)j(graphics)f(state)h(of)g(a)g(PostScript)e(system)i(is)g(a)g(special)g(path)f(called)h(the)g(clipping)d(path.)14 b(Every)c(bit)e(of)i(ink)f(to)g(be)h(placed)0830 y(on)i(the)g(page)g(is)g(checked)i(against)d(this)h(path.)19b(If)12 b(PostScript)f(determines)h(that)g(the)g(ink)f(would)g(go)h(outside)f(the)h(current)g(clipping)0 880 y(path,)f(that)f(portion)e(of)j(ink)e(is)i(ignored.)j(If)c(the)h(ink)e(would)h(be)h(within)e(the)h(clipping)f(path,)i(it)e(is)i(actually)f(placed)h(on)f(the)h(page.)k(For)0 930 y(the)c(mathematically)f(inclined,)g(the)h(clipping)e(process)i(is)g(intersection:)h(the)f(set)g(of)f(pixels)g(to)g(be)h(painted)f(is)h(intersected)g(with)e(the)0 980 y(set)g(of)f(pixels)g(within)f(the)i(current)f(clipping)f(path)i(to)f(get)g(the)h(set)g(of)f(pixels)g(to)g(paint.)13 b(For)c(objects)f(that)g(are)i(partly)d(inside)h(and)h(partly)0 1030 y(outside)g(the)h(clipping)f(path,)h(the)g(natural)g(implication)e(is)i(that)g(only)f(the)h(part)g(that)g(is)g(within)e(the)j(clipping)d(path)i(is)g(drawn.)62 1079y(By)i(default,)g(the)f(clipping)f(path)i(is)f(de\256ned)i(to)e(be)h(a)g(rectangle)g(just)f(within)f(the)i(boundary)f(of)g(the)h(page)g(\(usually)f(it)g(is)h(set)g(to)0 1129 y(about)d(a)i(quarter)e(of)g(an)i(inch\).)i(Y)m(ou)8 b(can)j(set)f(your)f(own)g(clip)g(path)h(by)f(constructing)f(the)i(path)f(with)g(the)h(normal)f(path)h(construction)0 1179 y(operators)e(and)g(invoking)d(the)j Fg(clip)gFk(operator)o(.)k(There)d(is)e(only)g(one)i(dif\256)-5b(culty:)14 b(once)9 b(you)e(reduce)i(the)f(size)h(of)e(the)h(current)g(clipping)0 1229 y(path,)j(there)f(is)h(no)f(way)h(to)f(expand)g(the)h(size)g(of)f(the)g(clipping)f(path)h(with)g Fg(clip)pFk(.)k(The)e(only)d(way)i(to)f(go)g(back)h(to)f(a)h(larger)f(clipping)01279 y(path)g(is)f(to)h(save)h(the)e(one)h(you)g(would)f(like)g(to)g(restore)h(with)f Fg(gsave)h Fk(and)g(restore)g(it)f(later)h(with)fFg(grestore)p Fk(.)k(In)d(fact,)h(it)e(is)h(always)01329 y(good)g(policy)g(to)g(only)g(set)h(a)h(clipping)d(path)i(withing)e(a)i(bracketing)g Fg(gsave)p Fk(/)p Fg(grestore)e Fk(pair)o(.)15b(Y)m(ou)9 b(will)h(always)h(be)g(safe)h(if)f(you)0 1378y(do)f(this.)0 1518 y Fi(Clipping)15 b(a)f(Simple)g(Path)01611 y Fk(As)e(a)h(simple)f(example)h(of)f(clipping,)f(let)h(us)g(say)h(that)f(we)g(want)g(to)g(draw)g(a)h(box)f(and)g(\256ll)f(it)h(with)f(text)g(in)h(such)h(a)f(way)h(that)e(some)0 1661 y(text)e(is)h(cut)g(off)l(.)17 b(The)11 b(eff)l(ec)q(t)i(we)d(wanting)f(is)h(that)f(of)h(a)h(hole)e(in)h(a)g(piece)h(of)f(paper)g(over)g(some)h(newsprint.)i(This)d(can)h(be)f(done)g(quite)0 1710 y(simply)n(.)621760 y(First,)g(we)g(set)g(up)g(the)g(box)f(to)g(act)i(as)f(our)g(window)n(.)i(W)n(e)d(can)i(set)f(up)f(the)h(path,)g(stroke)f(it)h(if)f(we)h(want)g(to)f(see)i(it,)f(and)g(then)f(clip)h(to)01810 y(it:)100 1901 y Fg(gsave)547 b(\045)25 b(Save)f(the)h(old)g(clip)f(path)149 1951 y(72)h(72)g(box)398 b(\045)25 b(Set)g(up)f(our)h(box)149 2001 y(gsave)498 b(\045)25 b(Don't)f(allow)h(box)f(to)h(be)g(lost)f(after)h(stroke)199 2051 y(stroke)149 2101 y(grestore)423b(\045)25 b(Restore)f(the)h(box)f(path)149 2150 y(clip)523b(\045)25 b(Clip)f(to)h(the)g(box)62 2242 y Fk(The)11b(clip)e(path)g(is)g(now)h(established,)g(and)f(we)i(can)f(now)f(go)h(on)f(to)g(draw)h(the)f(text)g(that)g(should)g(be)h(clipped)f(\(note)g(that)g(there)h(is)g(a)0 2291 y(leading)g Fg(gsave)pFk(.)s(.)s(.)s(this)h(is)f(to)g(keep)g(us)h(from)f(loosing)e(our)i(old)g(clip)f(path)h(which)g(covered)h(the)f(whole)g(page\).)1492383 y Fg(60)25 b(60)g(moveto)149 2433 y(\(This)g(is)g(Times-Roman)e(clipped)i(to)f(a)h(box\))g(show)149 2482 y(70)g(90)g(moveto)1492532 y(\(This)g(is)g(Times-Roman)e(clipped)i(to)f(a)h(box\))g(show)1492582 y(50)g(120)g(moveto)149 2632 y(\(This)g(is)g(Times-Roman)e(clipped)i(to)f(a)h(box\))g(show)954 2794 y Fk(16)p eop%%Page: 17 1817 17 bop 62 42 a Fk(Once)11 b(we)g(have)g(\256nished,)f(we)h(can)g(just)e(do)h(a)h Fg(grestore)e Fk(to)h(clean)h(up)f(after)g(ourselves.)62 91 y(While)g(there)h(are)g(some)h(implementation)d(limitations)f(on)i(the)h(complexity)e(of)h(the)h(clip)f(path,)g(in)g(general)h(you)f(can)h(have)g(very)0 141 y(complex)f(paths.)s(.)s(.)s(not)i(just)d(squares.)15 b(Arcs,)c(lines,)f(even)h(text)f(can)h(be)f(used)h(to)e(create)j(the)e(clip)f(path.)0 260 y Fd(Clipping)i(to)h(T)l(ext)0337 y Fk(There)e(may)g(come)g(a)g(time)f(when)g(you)g(will)f(want)h(to)g(do)f(some)i(special)g(eff)l(e)q(cts)i(with)c(text.)13b(For)c(example,)i(you)e(might)f(want)h(to)g(print)0387 y(out)g(\252July)h(4\272)g(using)f(letters)h(that)f(look)g(like)h(the)g(\257ag.)k(This)c(is)g(fairly)f(easy)i(to)e(do)h(using)f(clipping.)j(A)e(somewhat)h(simpler)f(problem)0 437 y(would)d(be)i(to)f(draw)h(text)e(that)h(looks)g(like)g(a)h(sunburst)e(\(that)h(is,)h(the)f(text)g(is)g(\256lled)g(with)g(a)h(sunburst)e(pattern\).)13b(This)8 b(is)g(also)h(fairly)e(easy)0 487 y(to)h(do)g(once)h(you)f(know)g(how)g(to)g(clip)g(to)g(text.)13 b(The)c(secret)g(is)g(an)g(operator)f(called)g Fg(charpath)p Fk(.)13 b(This)c(operator)f(takes)h(a)g(string)e(and)i(a)0 537 y(boolean)f(and)g(builds)f(the)h(path)g(at)g(the)g(current)g(point)e(that)i(would)f(trace)i(out)e(the)h(text)g(of)g(the)g(string.)k(The)d(path,)f(once)h(created,)h(can)f(be)0586 y(stroked,)h(\256lled,)h(clipped,)f(or)h(any)f(other)g(combination)f(of)i(things;)e(it)g(is,)i(after)g(all,)g(just)e(a)j(path.)i(The)d(boolean)g(which)f Fg(charpath)0 636 y Fk(requires)g(is)g(for)g(handling)f(special)h(kinds)g(of)g(fonts,)f(and)i(it)e(is)h(generally)g(left)g(true.)62 686 y(As)h(before,)g(the)f(steps)g(to)g(this)f(example)i(are)g(to)f(build)f(the)h(path,)g(clip)g(to)f(it,)h(and)g(draw)h(the)f(image)h(needing)e(to)h(be)h(clipped.)62736 y(Here)g(we)g(build)e(the)h(path)g(by)g(setting)f(up)h(our)f(current)h(point)f(and)h(string,)g(and)g(then)g(invoking)eFg(charpath)p Fk(:)100 827 y Fg(gsave)921 b(\045)24 b(Save)h(old)g(clip)f(path)149 877 y(/Times-Roman)g(findfont)g(60)h(scalefont)f(setfont)149 927 y(72)h(72)g(moveto)f(\(Clipping\))g(true)h(charpath)74b(\045)24 b(Set)h(up)g(the)f(text's)h(path)62 1018 yFk(Once)10 b(we)f(have)h(the)f(path,)g(we)g(can)h(invoke)eFg(clip)g Fk(to)h(establish)f(the)h(complex)g(path)f(of)h(the)g(text)f(as)i(the)e(current)h(clip)f(path.)14 b(W)o(ith)0 1068y(the)c(clip)g(path)g(established,)g(we)h(can)g(draw)f(our)g(sunburst,)f(which)h(will)f(be)h(con\256ned)h(to)e(the)i(area)g(inside)f(the)g(text:)149 1159 y Fg(174)25 b(72)g(translate)99 b(\045)24b(Set)h(our)g(origin)f(to)h(middle)149 1209 y(0)g(2)g(360)g({)274b(\045)24 b(For)h(every)f(second)h(degree)f(of)h(circle)1991259 y(newpath)199 1309 y(gsave)249 1359 y(rotate)249b(\045)24 b(Rotate)h(to)f(angle)249 1408 y(0)h(0)g(moveto)149b(\045)24 b(From)h(new)g(origin)249 1458 y(300)g(0)f(rlineto)75b(\045)24 b(Setup)h(a)g(300)f(point)h(long)f(line)2491508 y(stroke)249 b(\045)24 b(...)h(and)g(draw)f(it)1991558 y(grestore)149 1608 y(})h(for)62 1699 y Fk(Again,)11b(because)g(of)f(our)g(judicious)f(use)i(of)f Fg(gsave)fFk(and)i Fg(grestore)p Fk(,)f(a)h(simple)f Fg(grestore)gFk(cleans)h(up)f(the)g(graphics)g(state)0 1749 y(when)g(we're)h(done.)62 1799 y(As)e(you)e(might)h(imagine,)h(this)e(sort)h(of)g(eff)l(e)q(ct)j(is)d(very)g(powerful)g(and)g(can)h(make)g(it)f(very)g(easy)h(for)f(you)g(to)f(create)j(some)f(stunning)0 1848 y(images.)9542794 y(17)p eop%%Page: 18 1918 18 bop 0 353 a Fj(Chapter)22 b(10)0 560 y Fm(Encapsulated)27b(PostScript)0 801 y Fi(What)15 b(is)g(Encapsulated)f(PostScript?)0894 y Fk(At)9 b(some)h(point,)e(you)g(may)i(want)f(to)f(include)h(some)g(nice)h(PostScript)e(image)h(into)f(a)i(document.)j(There)d(are)g(a)g(number)f(of)f(problems)0 944 y(associated)h(with)f(this,)g(but)g(the)h(main)f(one)h(is)g(that)f(your)f(page)j(layout)d(program)i(needs)g(to)f(know)g(how)g(big)g(the)g(image)i(is,)f(and)f(how)h(to)0993 y(move)i(it)e(to)h(the)g(correct)g(place)h(on)f(the)g(page.)15b(Encapsulated)10 b(PostScript)f(\(EPS\))i(is)f(that)f(part)h(of)g(Adobe')o(s)f(Document)h(Structuring)0 1043 y(Convention)e(that)i(provides)f(this)g(information.)0 1181 y Fi(What)15 b(Is)g(the)g(Document)f(Structuring)g(Convention?)0 1274 y Fk(The)9b(DSC)f(is)g(a)h(special)f(\256le)h(format)f(for)g(PostScript)f(documents.)13 b(The)c(full)e(details)h(for)f(the)i(DSC)f(can)h(\(and)f(should\))f(be)h(gotten)f(from)0 1324 y(Adobe.)14 b(If)9b(you)h(are)g(writing)e(a)i(PostScript)f(printer)g(driver)g(or)g(other)g(utility)f(which)h(will)g(be)h(used)g(by)f(a)i(large)e(number)h(of)f(people)h(to)0 1373 y(create)h(or)f(manipulate)f(PostScript)g(documents,)h(do)g(not)f(even)h(think)f(about)g(writing)f(it)h(without)f(making)i(it)f(DSC-compliant.)k(Y)m(ou)0 1423 y(will)c(save)i(yourself)f(and)g(your)f(users)i(a)g(lot)e(of)h(headaches.)621473 y(Although)e(the)i(full)e(DSC)i(is)g(beyond)f(the)g(scope)i(of)e(this)g(guide,)h(the)g(most)f(basic)i(rules)e(can)i(be)f(explained.)j(A)d(DSC-compliant)0 1523 y(document)h(is)f(an)h(ordinary)f(PostScript)g(document)g(with)g(a)h(number)g(of)g(comments)g(added.)16b(These)c(comments)g(provide)e(informa-)0 1573 y(tion)f(to)h(any)h(postprocessors)f(which)g(work)f(with)h(the)g(\256les.)15b(Some)c(comments)g(strictly)e(provide)h(information,)f(others)h(are)h(used)g(to)0 1622 y(structure)f(the)g(document)g(into)f(sections,)h(which)g(may)h(be)g(shuf\257)-5 b(e)q(d)13 b(or)d(processed)h(in)f(other)f(ways)i(by)f(the)g(postprocessor)o(.)62 1672y(Every)h(DSC-compliant)e(document)i(is)f(indicated)g(by)h(having)e(the)i(comment)g Fg(\\\045!PS-Adobe)24 b(3.0)10 b Fk(as)i(the)e(\256rst)h(line.)j(This)0 1722 y(comment)e(is)g(a)g(\257ag)g(to)f(indicate)g(that)g(the)g(document)g(is)h(compliant.)17b(Y)m(ou)10 b(should)g(never)i(use)g(this)f(comment)h(unless)g(your)e(docu-)0 1772 y(ment)g(really)f(is)h(DSC)g(compliant.)j(There)d(are)h(many)f(other)f(parts)h(to)f(proper)h(DSC.)g(A)f(document)h(which)f(follows)g(the)h(DSC)f(can)i(be)0 1822 y(manipulated)f(in)f(many)i(ways.)j(In)c(particular)o(,)f(postprocessors)h(can)h(shuf\257)l(e)j(the)c(pages,)h(print)e(two)g(or)h(more)h(pages)g(on)f(a)g(side,)h(and)0 1872 y(so)g(on.)17 b(The)12 b(printer)e(drivers)h(from)g(some)h(notable)e(companies)i(do)f(not)f(follow)g(the)h(DSC,)h(and)f(their)g(PostScript)f(documents)h(are,)0 1921 y(therefore,)g(impossible)e(to)h(work)f(with)g(once)i(they've)f(been)h(generated.)0 2059y Fi(Now)n(,)j(What)h(About)g(EPS?)0 2152 y Fk(An)c(EPS)g(\256le)g(is)g(a)g(PostScript)f(\256le)h(which)f(follows)f(the)i(DSC)g(and)g(which)f(follows)f(a)j(couple)e(of)h(other)f(rules.)16 b(These)c(rules)e(can)i(be)0 2202 y(summarized)f(as)g(follows:)62 2283 y Fe(\017)21b Fk(The)11 b(\256rst)f(line)f(must)h(be)h Fg(\\\045!PS-Adobe)24b(EPSF-3.0)62 2363 y Fe(\017)d Fk(The)11 b(\256le)f(must)g(make)i(use)e(of)g(the)g(BoundingBox)e(comment)62 2442 y Fe(\017)21b Fk(The)11 b(\256le)f(should)f(be)i(a)g(single)e(page)i(image)g(\(in)e(DSC)h(terms,)h(the)f Fg(\045\045Pages)g Fk(comment)h(must)f(have)h(a)g(value)f(of)g(0)g(or)g(1\).)62 2521 y Fe(\017)21 b Fk(The)11b(\256le)f(should)f(not)h(use)g(any)h(operators)727 2506y Fc(1)756 2521 y Fk(which)f(aff)m(ec)q(t)i(the)f(global)e(state.)p0 2553 780 2 v 42 2579 a Fb(1)60 2591 y Fa(Forbidden)g(operators)g(include:)14 b(banddevice,)8 b(clear,)i(cleardictstack,)g(copypage,)e(erasepage,)h(exitserver,)g(framedevice,)g(grestoreall,)i(initclip,)g(initgraph-)0 2630 y(ics,)g(initmatrix,)f(quit,)h(renderbands,)d(setglobal,)h(setpagedevice,)f(setshared,)h(and)g(startjob.)16b(Operators)9 b(to)h(avoid)f(include:)k(nulldevice,)c(setgstate,)h(sethalftone,)0 2670 y(setmatrix,)e(setscreen,)g(settransfer,)e(ande)h(unde\256nedfont.)954 2794 y Fk(18)p eop%%Page: 19 2019 19 bop 62 42 a Fe(\017)21 b Fk(Finally)n(,)8 b(the)i(EPS)h(\256le)f(should)f(not)h(use)g(showpage.)k(Actually)n(,)9 b(Adobe)h(says)h(that)e(it)h(is)g(\256ne)g(to)g(use)g(showpage)h(in)e(your)g(EPS)10491 y(\256les.)14 b(Of\256)l(cially)n(,)c(it)e(is)g(the)g(responsibility)e(of)i(the)g(importing)e(application)h(to)h(rede\256ne)h(showpage)f(so)h(that)e(the)h(EPS)h(\256le)g(does)104141 y(not)g(actually)h(eject)h(the)f(page.)k(Still,)9b(in)h(creating)g(EPS)h(\256les,)g(it)e(would)h(be)g(wise)h(not)e(to)h(use)g(this)g(operator)o(.)62 232 y(In)i(general,)h(if)e(you)h(are)g(creating)g(a)h(PostScript)d(image)j(by)e(hand,)i(all)e(you)h(need)g(to)f(do)h(is)g(calculate)g(the)g(bounding)e(box,)i(add)0282 y(the)d(\256rst)g(comment)h(and)f(the)g Fg(\045\045BoundingBox)fFk(comment,)j(and)e(you)f(have)i(an)g(EPS)f(\256le.)14b(Once)c(you)f(have)h(the)f(\256le)g(in)g(this)f(form,)0332 y(page)j(layout)e(programs)h(can)h(incorporate)e(the)i(image)f(and)h(will)e(allow)g(you)h(to)g(move)g(and)h(resize)g(the)f(image)h(at)f(will.)0 472 y Fi(BoundingBox)0 564 y Fk(The)i(BoundingBox)d(comment)j(is)g(used)f(in)g(DSC)h(to)f(indicate)g(where)h(the)f(actual)h(image)g(will)f(be)h(on)f(a)h(page.)18 b(The)13 b(comment)f(de-)0614 y(scribes)g(a)g(rectangle)g(which)g(completely)f(encloses)i(the)e(image.)19 b(The)13 b(form)e(of)h(the)f(comment)i(is:)jFg(\045\045BoundingBox:)48 b(llx)0 664 y(lly)25 b(urx)f(ury)pFk(.)14 b(For)8 b(instance,)i(suppose)f(I)f(have)i(an)f(image)g(which)f(extends)h(from)g(x=72)f(to)h(x=144)f(and)h(from)g(y=150)f(to)g(y=170.)0 714 y(The)j(BoundingBox)c(comment)k(in)f(the)g(document)g(should)f(then)h(be:)j Fg(\045\045BoundingBox:)49 b(72)25 b(150)f(144)h(170)pFk(.)954 2794 y(19)p eop%%Page: 20 2120 20 bop 0 353 a Fj(Chapter)22 b(1)l(1)0 560 y Fm(Post)k(Pr)o(ocessing)0 781 y Fk(There)14 b(are)h(often)e(times)g(when)h(you)f(will)f(want)h(to)g(take)h(an)g(existing)e(PostScript)g(document)i(and)f(manipulate)g(it)g(in)g(some)h(way)n(.)0 830 y(For)f(example,)h(you)e(may)h(be)g(publishing)e(a)i(book,)g(and)g(you)f(want)g(to)g(print)g(the)g(pages)i(with)d(wide)i(margins)f(for)g(proo\256ng)f(notes)0880 y(\(but)f(you)h(don't)e(want)i(to)g(modify)f(the)h(book')o(s)e(layout\).)16 b(Maybe)c(you)e(are)i(printing)d(out)h(some)i(100-page)f(manual,)h(and)g(you)e(want)0 930 y(to)i(avoid)g(using)g(most)h(of)f(a)h(rain)g(forest)f(to)g(print)f(it.)21 b(Maybe)13 b(you)f(want)h(to)f(print)f(out)h(some)i(document)e(with)g(the)g(word)h(\252Draft\272)0980 y(stamped)e Ff(beneath)e Fk(the)h(pages.)15 b(All)9b(of)h(these)g(things)f(can)h(be)h(done)f(in)f(PostScript)g(by)h(a)g(postprocessor)g(\(that)f(is,)h(a)h(program)f(which)01030 y(manipulates)e(an)g(existing)f(PostScript)f(\256le\).)14b(Moreover)o(,)8 b(these)g(are)h(all)f(things)e(which)i(may)g(be)h(dif\256)-5 b(cult)10 b(to)e(manage)h(in)e(the)h(program)01079 y(you)i(used)g(to)g(generate)h(the)f(\256les.)621129 y(In)h(this)f(section,)i(I'll)e(show)g(you)h(the)g(basic)g(PostScript)f(code)i(to)e(do)h(each)h(of)f(these)h(jobs)e(and)h(how)g(to)g(use)g(EPS)h(comments)g(to)0 1179 y(\256nd)e(the)g(right)f(places)i(to)f(insert)f(the)h(additional)f(PostScript.)62 1229y(Y)m(ou)h(are)i(welcome)g(to)f(use)h(these)g(programs)f(as)h(you)e(will.)16 b(Bear)c(in)f(mind,)g(however)o(,)h(that)e(there)i(are)g(professionally)d(written)0 1279 y(programs)h(that)f(do)g(these)i(jobs)e(and)h(more.)k(I)c(strongly)e(suggest)i(that)f(you)g(look)g(into)f(buying)h(such)h(a)g(program)g(rather)g(than)f(writing)01329 y(your)i(own.)19 b(Generally)n(,)12 b(they)f(have)h(already)h(solved)e(most)h(of)f(the)h(problems.)19 b(Also,)12 b(these)g(packages)i(usually)c(come)j(with)e(tools)0 1378 y(you)f(did)f(not)h(even)h(knew)f(were)h(possible.)j(These)e(examples,)f(therefore,)g(are)g(more)g(to)f(give)g(you)f(a)i(taste)g(of)f(what)g(is)g(possible)g(and)01428 y(how)g(to)g(do)f(it,)h(in)g(case)i(you)d(want)h(to)g(roll)f(your)h(own)f(post-processing)g(utility)n(.)0 1568 y Fi(Galley)k(Proofs)01661 y Fk(A)c(galley)g(proof)f(is)h(a)h(printout)d(of)i(a)h(document)f(in)f(which)h(the)g(margins)f(are)i(especially)g(large.)j(The)d(idea)f(is)g(that)g(you)f(can)i(read)g(over)0 1710 y(what)i(you)f(have)i(printed)e(and)h(have)g(room)g(for)g(writing)e(comments.)20b(This)12 b(system)h(was)f(important)f(in)g(the)h(days)h(of)e(manuscripts)0 1760 y(and)e(lead-cast)g(type,)g(because)h(the)f(layout)e(of)i(your)f(document)g(was)i(under)e(the)g(control)g(of)g(the)h(publisher)r(')n(s)d(typesetter)o(.)12 b(Y)m(ou)7 b(would)01810 y(receive)k(a)g(galley)f(proof)f(from)h(your)g(publisher)f(and)h(make)h(comments)g(about)f(mistakes)g(or)g(changes)h(to)f(be)h(made.)621860 y(When)f(you)g(have)g(control)e(of)i(the)f(typesetting,)g(galley)g(proofs)g(are)i(not)e(so)h(important,)f(but)g(you)g(may)h(still)e(want)i(to)f(have)i(them.)0 1910 y(Many)f(systems)h(will)e(not)g(let)h(you)g(make)h(a)g(galley)f(proof,)g(but)f(fortunately)g(it)g(is)h(not)f(hard)i(to)e(do.)62 1959 y(The)h(main)f(idea)g(is)g(that)f(you)g(want)h(to)f(scale)i(each)g(page)g(down)e(\(to)g(make)i(room)f(for)f(the)h(extra)g(big)f(margins\))g(and)h(then)f(translate)0 2009 y(the)i(document)g(up)g(and)g(to)g(the)g(right.)62 2059 y(Let)g(us)g(say)g(that)e(we)i(want)g(to)f(give)g(ourselves)g(an)h(extra)f(inch)h(of)f(margin)f(on)h(the)h(vertical)f(margins)f(\(and)i(scale)g(the)f(horizontals)02109 y(to)h(keep)g(the)h(proportions)c(correct\).)15b(Here)c(is)f(the)g(PostScript)f(code)i(to)e(do)h(that:)1002200 y Fg(gsave)149 2250 y(8.5)25 b(6.5)g(sub)f(2)h(div)g(inch)373b(\045)25 b(Center)f(page)h(horizontally...)149 2300y(11)g(11)g(6.5)f(8.5)h(div)g(mul)f(sub)h(2)g(div)f(inch)h(\045)50b(and)24 b(vertically)149 2350 y(translate)149 2399 y(6.5)h(8.5)g(div)373 b(\045)25 b(Scale)f(page)h(horizontally...)149 2449y(dup)573 b(\045)50 b(and)24 b(vertically)149 2499 y(scale)1492549 y(\045)h(original)f(page)h(code)f(here...)100 2599y(grestore)954 2794 y Fk(20)p eop%%Page: 21 2221 21 bop 62 42 a Fk(Here)8 b(is)f(a)h(slightly)t(faster)g(version.)k(Here,)d(we)f(allow)e(the)h(postprocessor)g(to)f(do)h(the)g(math)g(for)g(us.)13 b(This)7 b(will)f(print)f(more)j(quickly)n(,)091 y(since)j(each)g(page)g(does)f(not)g(need)g(to)g(do)g(its)g(own)g(division:)100 183 y Fg(gsave)149 232 y(72)25 b(93)g(translate)149282 y(.7647)g(.7647)f(scale)149 332 y(\045)h(original)f(page)h(code)f(here...)100 382 y(grestore)62 473 y Fk(Why)11 b(the)gFg(gsave)g Fk(and)h Fg(grestore)p Fk(?)k(W)n(ell,)11b(a)g(good)g(rule)g(of)g(thumb)f(is)h(to)g Ff(always)gFk(save)h(the)f(graphics)g(state)g(before)h(you)e(go)0523 y(about)g(changing)g(it)g(\(and)h(remember)h(to)e(restore)g(it)g(when)h(you)f(are)i(done\).)j(Also,)10 b(one)h(of)g(the)f(rules)h(of)f(the)h(document)f(structuring)0 573 y(convention)f(is)h(that)g(each)h(page)g(should)e(restore)i(the)f(state)h(of)f(the)g(system)h(to)f(what)g(it)f(was)i(when)g(the)f(page)h(was)g(about)f(to)f(start.)14b(In)0 623 y(other)9 b(words,)h(the)g(code)g(to)f(layout)g(a)h(page)h(should)d(not)h(alter)h(the)f(permanent)i(state)f(of)f(the)h(system)g(\(graphics)f(or)h(otherwise\).)j(This)0 672 y(assures)e(that)f(pages)h(can)g(be)f(reordered)h(after)f(the)g(PostScript)f(has)i(been)g(generated.)0 791 y Fd(The)h(Hard)g(Part)0 869 y Fk(The)h(hard)g(part)f(of)h(all)f(of)g(this)g(is)h(knowing)e Ff(wher)o(e)iFk(to)f(insert)g(the)g(new)h(code.)22 b(Where)14 b(does)f(one)f(page)h(begin)g(and)f(another)h(end?)0 919 y(Y)m(ou)d(could)g(look)g(for)g(calls)i(to)e(showpage,)i(but)e(many)i(programs)f(de\256ne)g(their)f(own)h(versions)g(of)f(this)g(operator)h(\(in)f(the)h(code)h(that)0968 y(is)e(generated)h(by)f Fg(dvips)p Fk(,)g(for)g(instance,)h(it)e(is)h(called)h Fg(eop)p Fk(\).)62 1018 y(So,)i(how)eFf(do)g Fk(we)h(go)f(about)g(recognizing)g(pages?)19b(The)12 b(document)g(structuring)d(conventions)h(provide)h(us)h(with)e(some)j(handy)0 1068 y(comments)d(for)f(\257agging)f(page)i(information.)i(The)e(most)f(important)e(is)i(the)g Fg(\045\045Page:)kFk(comment.)h(This)c(comment)f(speci\256es)i(that)0 1118y(the)c(next)g(piece)h(of)f(code)h(is)g(the)f(\256rst)g(one)g(for)g(the)h(new)f(page)h(\(in)f(fact,)i(it)d(also)i(tells)e(you)h(which)g(page)h(it)f(is\).)12 b(The)c(end)g(of)f(the)g(document)01168 y(should)g(also)h(be)g(marked)g(with)f(a)h Fg(\045\045Trailer:)kFk(comment)d(and)e(a)i Fg(\045\045EOF)e Fk(comment.)14b(The)9 b Fg(\045\045Trailer:)j Fk(comment)c(speci\256es)01217 y(that)e(code)i(to)e(be)h(run)f(at)h(the)g(end)g(of)g(the)f(document)h(is)g(about)f(to)g(be)i(given)e(\(so,)i(we)f(are)h(done)e(with)g(the)h(pages\).)13 b(The)8 b Fg(\045\045EOF)eFk(comment)0 1267 y(speci\256es)11 b(that)f(we)h(are)g(done)f(with)f(the)h(\256le.)k(Again,)d(this)e(speci\256es)i(that)f(we)h(have)f(processed)i(the)e(last)g(page.)62 1317 y(So,)16 b(using)d(these)h(comments,)j(how)c(can)i(we)g(add)f(the)g(needed)h(PostScript?)25b(W)n(ell,)14 b(we)g(can)h(start)f(by)g(looking)e(for)h(the)h(\256rst)01367 y Fg(\045\045Page:)j Fk(comment.)j(When)13 b(we)f(\256nd)g(it,)g(we)h(insert)e(the)h Fg(translate)g Fk(and)g Fg(scale)gFk(commands)h(right)d(after)j(it.)18 b(Thereafter)o(,)01417 y(we)13 b(will)e(preceed)i(each)h Fg(\045\045Page:)jFk(with)11 b(a)i Fg(grestore)e Fk(and)i(insert)e(the)h(translate)g(and)h(scale)g(code)g(after)f(the)g(comment.)21 b(This)0 1466y(process)11 b(continues)f(until)f(we)j(\256nd)e(either)g(a)iFg(\045\045Trailer:)i Fk(or)c(a)h Fg(\045\045EOF)g Fk(comment.)16b(The)11 b(\256rst)g(of)f(these)h(we)h(\256nd)e(is)h(preceeded)01516 y(by)f(a)h Fg(grestore)p Fk(.)62 1566 y(This)g(is)f(all)g(we)h(need)f(to)g(do.)k(T)n(o)c(make)h(things)e(a)i(bit)f(more)g(concrete,)i(here)f(is)f(a)i(P)o(E)s(R)q(L)j(script)10 b(to)g(do)g(the)g(job)f(\(to)h(make)h(things)0 1616 y(a)g(bit)e(more)i(interesting,)e(I)h(have)h(added)f(a)h(light)d(line)i(around)g(the)g(original)e(page')o(s)i(image,)h(so)f(you)g(can)h(know)f(how)f(big)h(it)f(is\):)01699 y Fg(#!/usr/local/bin/perl)0 1749 y($flag)24 b(=)h(0;)01799 y(while)f(\(<>\))h({)100 1848 y(if)f(\(/\303\045\045Page:/\))g({)149 1898 y(if)h(\($flag\))f({)249 1948 y(print)g("grestore\\n";)1491998 y(})149 2048 y($flag)h(=)g(1;)149 2097 y(print)g($_;)1492147 y(print)g("gsave)f(72)h(93)g(translate)f(.7647)g(.7647)h(scale\\n";)149 2197 y(print)g("gsave)f(.75)h(setgray)f(newpath)g(-1)h(-1)g(moveto)f(614)h(0)g(rlineto\\n";)149 2247 y(print)g("0)g(794)f(rlineto)g(-614)h(0)g(rlineto)f(closepath)g(stroke)g(grestore\\n";)1002297 y(})g(elsif)h(\(/\303\045\045Trail/\))f({)149 2346y(if)h(\($flag\))f({)199 2396 y(print)h("grestore\\n";)1492446 y(})149 2496 y(print)g($_;)149 2546 y($flag)g(=)g(0;)1002596 y(})f(elsif)h(\(/\303\045\045EOF/\))f({)149 2645y(if)h(\($flag\))f({)954 2794 y Fk(21)p eop%%Page: 22 2322 22 bop 199 42 a Fg(print)25 b("grestore\\n";)149 91y(})149 141 y(print)g($_;)149 191 y($flag)g(=)g(0;)100241 y(})f(else)h({)149 291 y(print;)100 340 y(})0 390y(})62 473 y Fk(Now)n(,)13 b(this)e(script)h(is)h(not)e(perfect.)22b(Many)12 b(PostScript)f(\256les)i(do)f(not)g(comform)h(as)g(they)f(should.)20 b(This)12 b(script)g(can,)i(however)o(,)0523 y(serve)d(as)g(a)g(starting)e(point)f(for)i(your)g(own,)g(more)h(robust)e(code.)0 663 y Fi(T)m(wo)k(Up)0 755 y Fk(There)e(are)g(occassions)g(when)g(you)e(might)h(want)g(to)g(print)f(more)h(than)g(one)h(page)g(of)f(a)g(PostScript)g(document)g(on)g(a)h(piece)g(of)f(paper)o(.)0 805 y(For)g(example,)h(you)e(may)h(have)h(a)f(collection)f(of)g(slides)h(for)f(a)h(presentation,)g(and)g(you)f(may)h(want)g(to)f(print)g(them)g(out)g(in)h(condensed)0 855 y(form)e(for)f(a)i(kind)d(of)i(digest)f(hand-out.)12 b(This)c(kind)f(of)g(printing,)g(where)h(two)f(pages)i(are)f(printed)f(side-by-side)g(on)g(a)i(piece)f(of)g(paper)g(is)0 905 y(called)i(\252two-up,\272)g(for)f(the)g(two)g(pages)h(facing)g(up.)j(This)d(idea)g(generalizes)g(readily)f(to)g(any)h(number)f(of)g(pages)i(\(though,)d(of)h(course,)0 955y(legibility)e(goes)k(down)e(quickly)g(as)i(the)f(number)h(of)e(pages)i(goes)g(up\).)i(In)d(its)g(general)g(form,)h(it)e(is)h(called)h(\252n-up.\272)0 1073 y Fd(The)h(PostScript)0 1151 yFk(What)h(is)g(it)f(that)g(is)h(necessary)i(to)d(print)g(in)g(two-up)g(mode?)22 b(First,)14 b(we)f(need)h(to)e(translate)h(and)g(rotate)f(each)j(page)e(into)f(the)h(right)0 1201 y(location)c(of)h(the)g(page,)h(then)f(we)g(need)h(to)e(make)j(sure)e(that)g(the)g(page)g(\256ts)g(in)g(the)g(new)g(area)i(reserved)e(for)g(it)f(\(we)i(will)e(need)h(to)g(scale)0 1251 y(it)f(down)h(to)g(about)f(half)h(its)g(original)e(size\).)15 b(If)10 b(we)h(place)g(the)f(two)f(pages)i(side)g(by)f(side,)g(we)h(will)e(get)h(proper)g(two-up)f(form.)621300 y(The)f(code)g(I)g(will)e(present)i(here)g(will)e(place)i(the)f(odd)g(pages)h(on)g(the)f(left)g(\(as)h(your)f(looking)e(at)j(the)f(page)h(in)f(landscape)h(orientation\))0 1350 y(and)i(the)g(even)h(pages)g(on)f(the)g(right.)j(Y)m(ou)8 b(could)i(do)g(it)f(the)h(other)g(way)h(around,)f(if)f(that)h(makes)h(more)g(sense)g(to)f(you.)621400 y(Here)h(is)f(the)g(code)h(we)g(must)f(wrap)g(around)g(the)g(odd)g(pages:)100 1491 y Fg(gsave)149 1541 y(504)25 b(30)g(translate)49b(\045)25 b(Position)f(page)g(in)h(middle)f(of)h(region)1491591 y(90)g(rotate)224 b(\045)25 b(Aim)f(it)h(in)g(the)f(right)h(direction)149 1641 y(.5)g(.5)g(scale)174 b(\045)25 b(make)f(it)h(small)f(enough)149 1691 y(\045)h(original)f(page)h(code)f(here...)1001740 y(grestore)62 1832 y Fk(And)10 b(here)h(is)f(the)g(code)h(for)f(the)g(even)g(pages:)100 1923 y Fg(gsave)149 1973 y(504)25b(426)g(translate)f(\045)h(Position)f(page)g(in)h(middle)f(of)h(region)149 2023 y(90)g(rotate)224 b(\045)25 b(Aim)f(it)h(in)g(the)f(right)h(direction)149 2072 y(.5)g(.5)g(scale)174 b(\045)25 b(make)f(it)h(small)f(enough)149 2122 y(\045)h(original)f(page)h(code)f(here...)1002172 y(grestore)62 2263 y Fk(Now)n(,)12 b(you)f(will)f(notice)h(that)g(I)h(used)g(some)g(curious)f(numbers)h(in)f(the)g Fg(translate)gFk(command.)19 b(The)13 b(reason)f(I)f(chose)i(these)02313 y(particular)c(numbers)h(was)h(that)e(I)h(wanted)g(to)g(center)g(each)h(page)g(in)e(its)h(half)f(of)h(the)g(page.)k(I)c(knew)g(I)g(was)h(going)d(to)i(scale)h(by)f(0.5,)g(so)0 2363 y(I)g(computed)g(how)g(much)h(whitespace)g(was)f(left)g(and)h(added)f(in)g(the)g(appropriate)f(fudge-factor)h(to)f(center)i(the)f(pages.)62 2413 y(Y)m(ou)f(may)i(also)f(notice)g(that)f(I)h(wrap)h(a)g Fg(gsave)e Fk(and)i(a)fFg(grestore)g Fk(around)g(the)g(page)g(and)h(the)f(additional)e(code?)15 b(The)c(reason)0 2463 y(for)g(this)g(is)h(that)f(each)i(page)fFf(must)g Fk(leave)g(the)g(state)g(of)f(the)h(printer)e(unchanged)i(when)g(it)f(has)h(been)g(printed.)18 b(If)11 b(you)g(permanently)02512 y(change)e(the)g(state,)g(that)f(state)h(change)g(will)f(be)g(in)g(aff)m(ec)q(t)j(for)d(all)g(subsequent)g(pages.)14 b(By)9b(following)d(this)h(rule,)i(you)f(make)i(the)e(pages)02562 y(independent)j(of)h(order)o(.)17 b(Some)c(print)d(servers)j(must)f(shuf\257)l(e)j(page)d(order)g(in)f(order)h(to)g(print)e(the)i(document)g(correctly;)g(since)g(my)0 2612 y(pages)f(are)g(independent)e(\(at)h(least)h(as)g(far)f(as)h(my)g(code)f(is)g(concerned\),)i(they)d(will)g(print)g(correctly)n(.)954 2794 y(22)p eop%%Page: 23 2423 23 bop 0 42 a Fd(The)12 b(Hard)g(Part)0 119 y Fk(Now)h(comes)i(the)e(hard)g(part)g(of)g(recognizing)g(where)h(the)f(pages)h(begin.)23b(The)14 b(technique)e(is)i(essentially)e(the)i(same)g(as)g(what)g(we)0169 y(used)g(for)f(galley)g(proofs,)i(so)e(I)h(will)e(spare)j(you)e(the)g(logic)g(here.)25 b(Essentially)n(,)14 b(we)g(will)f(look)f(for)hFg(\045\045Page:)20 b Fk(comments.)26 b(W)n(e)0 219 y(will,)12b(however)o(,)h(need)g(to)f(keep)h(track)g(of)f(whether)h(the)f(current)g(page)h(is)g(an)g(odd)e(page)j(or)e(an)h(even)g(page)g(and)f(insert)g(the)h(correct)0 269 y(translation)8 b(code.)15b(Also,)10 b(as)g(before,)h(we)f(must)g(be)g(careful)g(about)f(inserting)g(grestores)g(before)h(subsequent)g(pages)g(and)g(before)g(the)0 318 y Fg(\045\045Trailer)g Fk(or)f Fg(\045\045EOF)hFk(comments.)62 368 y(Here)h(is)f(the)h(PE)r(R)r(L)k(script)9b(to)h(do)g(the)g(job:)0 448 y Fg(#!/usr/local/bin/perl)0498 y($flag)24 b(=)h(0;)299 b(#)25 b(We)f(have)h(not)g(yet)f(found)h(a)f(page)0 548 y($even)g(=)h(0;)299 b(#)25 b(First)f(page)h(is)f(an)h(odd)g(page)0 598 y($page)f(=)h(1;)299 b(#)25 b(Start)f(at)h(page)f(#1)0 647 y($pages)g(=)h(1;)274 b(#)25 b(Allow)f(\045\045Pages)g(comment)0697 y(while)g(\(<>\))h({)100 747 y(if)f(\(/\303\045\045Pages:/)g(&&)h($pages\))f({)149 797 y(print)h("\045\045Pages:)f(\(atend\)\\n";)149847 y($pages)h(=)g(0;)100 896 y(})f(elsif)h(\(/\303\045\045Page:/\))f({)149 b(#)25 b(We)g(have)f(found)g(a)h(page)149 946y(if)g(\($flag\))f({)199 996 y(print)h("restore\\n";)98b(#)25 b(restore)f(if)h(it)g(isn't)f(the)h(first)1491046 y(})149 1096 y($flag)g(=)g(1;)149 1146 y(if)g(\($even\))f({)200b(#)24 b(Translate)g(for)h(even)g(pages)199 1195 y(print)g("save\\n";)74 b(#)24 b(gsave)199 1245 y(print)h("504)f(426)h(translate\\n";)1991295 y($even)g(=)f(0;)199 1345 y($page++;)149 1395 y(})h(else)g({)199b(#)25 b(Translate)f(for)g(odd)h(pages)199 1444 y(printf\("\045\045\045\045Page:)f(\045d)g(\045d\\n",)h($page,)f($page\);)199 1494 y(print)h("save)f(/showpage)g({})h(def\\n";)1991544 y(print)g("504)f(30)h(translate\\n";)199 1594 y($even)g(=)f(1;)1491644 y(})299 b(#)25 b(Code)g(to)f(rotate)h(and)f(shrink)1491693 y(print)h("90)f(rotate)h(.5)g(.5)f(scale\\n";)1001743 y(})g(elsif)h(\(/\303\045\045Trail/\))f({)99 b(#)25b(Cleanup)f(if)h(a)g(\045\045Trailer)f(is)h(found)1491793 y(if)g(\($flag\))f({)199 1843 y(print)h("restore\\n";)1491893 y(})149 1943 y(print)g($_;)149 1992 y(printf\("\045\045\045\045Pages:)f(\045d\\n",)g(\\$page\);)1492042 y($flag)h(=)g(0;)100 2092 y(})f(elsif)h(\(/\303\045\045EOF/\))f({)99 b(#)25 b(Cleanup)f(if)h(an)g(\045\045EOF)f(is)h(found)1492142 y(if)g(\($flag\))f({)199 2192 y(print)h("restore\\n";)1492241 y(})149 2291 y(print)g($_;)149 2341 y($flag)g(=)g(0;)1002391 y(})f(else)h({)149 2441 y(print;)100 2490 y(})02540 y(})62 2620 y Fk(Note)10 b(the)g(basic)h(similarity)d(with)h(the)h(script)g(for)f(the)h(galley)g(proofs.)j(There)e(are)g(some)g(additions,)e(however)o(.)k(Because)f(we)e(are)0 2670y(taking)i(two)g(pages)h(and)g(printing)d(them)j(on)f(one)h(page,)h(we)f(need)g(to)f(modify)g(the)h(page)g(numbers.)21 b(The)14b Fg(\045\045Pages:)j Fk(comment)954 2794 y(23)p eop%%Page: 24 2524 24 bop 0 42 a Fk(speci\256es)12 b(how)f(many)h(pages)g(are)g(in)e(the)h(document.)17 b(If)11 b(you)g(specify)g Fg(\045\045Pages:)49b(\(atend\))p Fk(,)11 b(you)g(are)h(specifying)e(that)h(you)091 y(do)f(not)f(know)h(the)g(exact)h(number)f(of)g(pages,)h(but)f(you)f(will)g(give)h(the)g(information)f(later)o(.)62 141 y(An)f(additional)e(complication)h(is)h(the)g(use)h(of)e Fg(save)h Fk(and)gFg(restore)g Fk(rather)g(than)g Fg(gsave)f Fk(and)h Fg(grestore)pFk(.)13 b(These)c(operators)0 191 y(save)j(the)e Ff(entir)o(e)hFk(state)g(of)f(the)h(printer)f(and)h(restore)g(it)f(just)g(as)hFg(gsave)g Fk(and)f Fg(grestore)h Fk(work)f(with)g(the)gFf(graphics)h Fk(state.)16 b(In)10 b(fact,)0 241 y(an)j(implicit)eFg(gsave)h Fk(is)g(done)g(by)h Fg(save)p Fk(;)f(and)h(an)g(implicit)eFg(grestore)g Fk(is)i(done)f(by)g Fg(restore)p Fk(.)21b(The)13 b(reason)g(these)g(are)g(used)0 291 y(is)d(so)h(that)f(I)g(can)i(rede\256ne)f Fg(showpage)f Fk(to)g(a)h(do-nothing)d(procedure)j(\()p Fg(/showpage)24 b Fe(fg)g Fg(def)p Fk(\))10 b(for)g(the)h(odd)f(pages.)15 b(This)c(trick)0 340 y(prevents)g(the)g(page)h(from)g(being)e(ejected)j(when)e(the)g(odd)g(page)h(does)g(its)f(end)g(of)g(page)h(routines.)17 b(Unfortunately)n(,)9 b(this)i(trick)f(only)0390 y(works)h(if)g(the)g(document)h(calls)f Fg(showpage)gFk(by)g(name.)19 b(If)12 b(the)f(document)g(bound)g Fg(showpage)gFk(up)g(or)g(calls)h(some)g(of)f(the)g(lower)0 440 y(level)f(operators,)g(this)g(program)g(would)f(need)i(to)e(be)i(more)f(sophisticated.)0 580 y Fi(Draft)0 672 y Fk(There)i(are)h(times)e(when)g(you)g(will)f(need)i(to)f(stamp)h(a)g(document)f(as)h(a)g(draft.)17b(That)12 b(is,)g(you)f(will)f(want)h(to)g(mark)h(the)f(document)g(so)0722 y(that)e(no)f(one)h(can)h(mistake)g(it)e(for)h(a)g(\256nished)g(document,)h(but)e(you)g(do)h(not)f(want)h(to)g(make)h(it)e(illegible.)k(W)n(atermarks)d(are)h(perfect)g(for)0 772 y(this)f(task.)62822 y(A)h(watermark)h(is)f(any)g(marking)f(which)h(appears)hFf(behind)e Fk(the)h(text)f(of)h(the)f(page)i(and)f(is)g(generally)f(quite)g(light)g(in)g(apprearence.)0 872 y(The)i(main)f(text)g(of)g(the)g(page)h(should)e(be)h(legible)g(above)g(it,)g(and)g(the)h(watermark)f(should)f(be)i(visible)e(beneath.)0 990 yFd(The)j(PostScript)0 1068 y Fk(The)j(PostScript)d(for)i(generating)f(a)h(watermark)h(is)e(quite)g(simple.)25 b(After)14 b(each)hFg(\045\045Page:)20 b Fk(comment)14 b(\(and)g(before)g(the)g(actual)01118 y(PostScript)e(code)h(for)g(the)g(page,)i(you)d(should)g(insert)g(the)h(code)h(to)e(draw)h(the)g(watermark)h(\(safely)f(wrapped)g(between)h(a)f Fg(gsave)0 1168 y Fk(and)d Fg(grestore)gFk(pair)o(.)62 1217 y(As)i(a)f(concrete)h(example,)h(let)e(us)g(say)h(we)g(want)f(to)f(print)g(the)h(word)g(\252Draft\272)g(down)g(the)g(page)h(beneath)f(the)g(actual)h(text)e(of)h(the)0 1267y(page.)k(Such)10 b(a)h(watermark)g(would)e(be)h(suitable)g(for)g(printing)d(drafts)j(of)g(documents.)62 1317 y(Here)h(is)f(the)g(PostScript)g(code)g(to)g(print)f(the)h(watermark:)1001400 y Fg(gsave)149 1450 y(.75)25 b(setgray)149 1500y(/Helvetica-Bold)f(findfont)g(72)h(scalefont)f(setfont)1491549 y(80)h(80)g(800)f({)199 1599 y(306)h(exch)f(moveto)523b(\045)25 b(move)f(to)h(the)g(center)f(of)h(the)f(line)1991649 y(\(Draft\))g(dup)199 1699 y(stringwidth)g(pop)h(2)g(div)f(neg)h(0)g(rmoveto)f(\045)h(Center)f(the)h(text)f(horizontally)1991749 y(show)797 b(\045)25 b(Show)f(the)h(text)149 1798y(})g(for)822 b(\045)25 b(and)f(keep)h(doinging)f(it)1001848 y(grestore)0 1967 y Fd(The)12 b(Hard)g(Part)0 2045y Fk(The)e(hard)g(part)f(of)h(the)f(job)g(is)g(to)h(\256nd)f(the)g(pages.)15 b(Fortunately)n(,)8 b(we)i(can)h(use)f(the)f(same)i(technique)e(we)i(used)f(for)f(the)g(galley)h(proofs.)02094 y(Actually)n(,)f(our)h(requirements)g(are)g(simpler)o(.)j(W)n(e)c(do)h(not)g(need)g(to)g(wrap)g(the)g(original)e(page)j(code)g(in)e(a)i(gsave,)g(grestore)f(pair)o(,)g(as)h(we)0 2144 y(did)e(before.)622194 y(And)h(here)h(is)f(the)g(PERL)h(script)f(to)f(do)h(the)g(job:)02285 y Fg(#!/usr/local/bin/perl)0 2335 y($flag)24 b(=)h(0;)02385 y(while)f(\(<>\))h({)100 2435 y(if)f(\(/\303\045\045Page:/\))g({)149 2485 y(if)h(\($flag\))f({)199 2534 y(print)h("grestore\\n";)1492584 y(})149 2634 y($flag)g(=)g(1;)954 2794 y Fk(24)peop%%Page: 25 2625 25 bop 149 42 a Fg(print)25 b($_;)149 91 y(print)g("gsave\\n";)149141 y(print)g(".75)f(setgray\\n";)149 191 y(print)h("/Helvetica-Bold)e(findfont)h(72)h(scalefont)f(setfont\\n";)149 241 y(print)h("80)f(80)h(800)g({)g(306)f(exch)h(moveto\\n";)149 291 y(print)g("\(Draft\))f(dup\\n";)149 340 y(print)h("stringwidth)f(pop)g(2)h(div)g(neg)f(0)h(rmoveto)f(show)h(})g(for\\n";)149 390 y(print)g("grestore\\n";)100440 y(})f(else)h({)149 490 y(print;)100 540 y(})0 589y(})954 2794 y Fk(25)p eop%%Page: 26 2726 26 bop 0 353 a Fj(Appendix)21 b(A)0 560 y Fm(Examples)0801 y Fi(Clipping)15 b(T)l(ext)d(to)j(a)g(Box)0 894 yFg(\045!)0 944 y(\045)25 b(operator)f(box:)g(xcoord)h(ycoord)f(box)h(-)0 993 y(\045)g(Creates)f(one)h(inch)f(box)h(at)g(xcoord,)f(ycoord)01043 y(/box)h({)75 1093 y(newpath)75 1143 y(moveto)751193 y(72)f(0)h(rlineto)75 1242 y(0)g(72)f(rlineto)751292 y(-72)g(0)h(rlineto)75 1342 y(closepath)0 1392 y(})g(def)01442 y(/Times-Roman)f(findfont)g(30)h(scalefont)f(setfont)01491 y(gsave)547 b(\045)25 b(Save)g(the)f(old)h(clip)g(path)501541 y(72)g(72)f(box)398 b(\045)25 b(Set)g(up)g(our)f(box)501591 y(gsave)497 b(\045)25 b(Don't)g(allow)f(box)h(to)f(be)h(lost)g(after)f(stroke)100 1641 y(stroke)50 1691 y(grestore)422b(\045)25 b(Restore)g(the)f(box)h(path)50 1741 y(clip)522b(\045)25 b(Clip)g(to)g(the)f(box)50 1790 y(60)h(60)f(moveto)501840 y(\(This)g(is)h(Times-Roman)f(clipped)g(to)h(a)g(box\))f(show)501890 y(70)h(90)f(moveto)50 1940 y(\(This)g(is)h(Times-Roman)f(clipped)g(to)h(a)g(box\))f(show)50 1990 y(50)h(120)f(moveto)502039 y(\(This)g(is)h(Times-Roman)f(clipped)g(to)h(a)g(box\))f(show)02089 y(grestore)472 b(\045)25 b(Get)g(the)g(clip)f(path)h(back)02139 y(showpage)0 2278 y Fi(Clipping)15 b(to)f(T)l(ext)02371 y Fg(\045!)0 2421 y(gsave)921 b(\045)25 b(Save)f(old)h(clip)g(path)50 2471 y(/Times-Roman)f(findfont)g(60)g(scalefont)h(setfont)502520 y(72)g(72)f(moveto)h(\(Clipping\))f(true)g(charpath)74b(\045)25 b(Set)f(up)h(the)g(text's)f(path)50 2570 y(clip)896b(\045)25 b(Clip)f(to)h(it)50 2620 y(174)f(72)h(translate)597b(\045)25 b(Set)f(our)h(origin)f(to)h(middle)50 2670y(0)g(2)f(360)h({)772 b(\045)25 b(For)f(every)h(second)f(degree)h(of)f(circle)954 2794 y Fk(26)p eop%%Page: 27 2827 27 bop 100 42 a Fg(newpath)100 91 y(gsave)149 141y(rotate)747 b(\045)25 b(Rotate)f(to)h(angle)149 191y(0)g(0)g(moveto)647 b(\045)25 b(From)f(new)h(origin)149241 y(300)g(0)g(rlineto)572 b(\045)25 b(Setup)f(a)h(300)g(point)f(long)h(line)149 291 y(stroke)747 b(\045)25 b(...)f(and)h(draw)g(it)100340 y(grestore)50 390 y(})g(for)0 440 y(grestore)846b(\045)25 b(Restore)f(old)h(clip)f(path)0 490 y(showpage)0630 y Fi(Drawing)14 b(a)h(Box)0 722 y Fg(\045!)0 772y(\045)25 b(Draws)f(a)h(one)g(square)f(inch)h(box)f(and)h(inch)f(in)h(from)g(the)f(bottom)h(left)0 822 y(/inch)f({72)h(mul})g(def)149b(\045)25 b(Convert)f(inches->points)f(\(1/72)i(inch\))0872 y(newpath)423 b(\045)25 b(Start)f(a)h(new)f(path)0921 y(1)h(inch)f(1)h(inch)g(moveto)99 b(\045)25 b(an)f(inch)h(in)g(from)f(the)h(lower)f(left)0 971 y(2)h(inch)f(1)h(inch)g(lineto)99b(\045)25 b(bottom)f(side)0 1021 y(2)h(inch)f(2)h(inch)g(lineto)99b(\045)25 b(right)f(side)0 1071 y(1)h(inch)f(2)h(inch)g(lineto)99b(\045)25 b(top)f(side)0 1121 y(closepath)373 b(\045)25b(Automatically)e(add)i(left)f(side)h(to)g(close)f(path)01171 y(stroke)448 b(\045)25 b(Draw)f(the)h(box)f(on)h(the)g(paper)01220 y(showpage)398 b(\045)25 b(We're)f(done...)g(eject)h(the)f(page)01360 y Fi(Drawing)14 b(a)h(Box)g(with)g(rlineto)0 1453y Fg(\045!)0 1503 y(\045\045)25 b(Draws)f(a)h(one)g(square)f(inch)g(box)h(and)g(inch)f(in)h(from)f(the)h(bottom)f(left)01552 y(\045\045)h(This)f(example)g(uses)h(relative)f(coordinates)g(on)h(the)f(lines)0 1602 y(/inch)g({72)h(mul})g(def)149 b(\045)25b(Convert)f(inches->points)f(\(1/72)i(inch\))0 1652 y(newpath)423b(\045)25 b(Start)f(a)h(new)f(path)0 1702 y(1)h(inch)f(1)h(inch)g(moveto)99 b(\045)25 b(an)f(inch)h(in)g(from)f(the)h(lower)f(left)01752 y(1)h(inch)f(0)h(inch)g(rlineto)74 b(\045)25 b(bottom)f(side)01801 y(0)h(inch)f(1)h(inch)g(rlineto)74 b(\045)25 b(right)f(side)01851 y(-1)h(inch)f(0)h(inch)g(rlineto)49 b(\045)25 b(top)f(side)01901 y(closepath)373 b(\045)25 b(Automatically)e(add)i(left)f(side)h(to)g(close)f(path)0 1951 y(stroke)448 b(\045)25 b(Draw)f(the)h(box)f(on)h(the)g(paper)0 2001 y(showpage)398 b(\045)25 b(We're)f(done...)g(eject)h(the)f(page)0 2140 y Fi(Filled)13 b(Box)0 2233y Fg(\045!)0 2283 y(\045\045)25 b(Draws)f(a)h(one)g(square)f(inch)g(box)h(and)g(inch)f(in)h(from)f(the)h(bottom)f(left)02333 y(/inch)g({72)h(mul})g(def)149 b(\045)25 b(Convert)f(inches->points)f(\(1/72)i(inch\))0 2382 y(newpath)423b(\045)25 b(Start)f(a)h(new)f(path)0 2432 y(1)h(inch)f(1)h(inch)g(moveto)99 b(\045)25 b(an)f(inch)h(in)g(from)f(the)h(lower)f(left)02482 y(2)h(inch)f(1)h(inch)g(lineto)99 b(\045)25 b(bottom)f(side)02532 y(2)h(inch)f(2)h(inch)g(lineto)99 b(\045)25 b(right)f(side)02582 y(1)h(inch)f(2)h(inch)g(lineto)99 b(\045)25 b(top)f(side)02632 y(closepath)373 b(\045)25 b(Automatically)e(add)i(left)f(side)h(to)g(close)f(path)954 2794 y Fk(27)p eop%%Page: 28 2928 28 bop 0 42 a Fg(fill)498 b(\045)25 b(Fill)f(in)h(the)f(box)h(on)g(the)f(paper)0 91 y(showpage)398 b(\045)25 b(We're)f(done...)g(eject)h(the)f(page)0 231 y Fi(T)l(ext)0 324 y Fg(\045!)0 374y(\045)h(Sample)f(of)h(printing)f(text)0 423 y(/Times-Roman)g(findfont)g(\045)h(Get)f(the)h(basic)f(font)0 473 y(20)h(scalefont)248b(\045)25 b(Scale)f(the)h(font)f(to)h(20)g(points)0 523y(setfont)373 b(\045)25 b(Make)f(it)h(the)g(current)f(font)0573 y(newpath)373 b(\045)25 b(Start)f(a)h(new)g(path)0623 y(72)g(72)f(moveto)249 b(\045)25 b(Lower)f(left)h(corner)f(of)h(text)f(at)h(\(72,)g(72\))0 672 y(\(Hello,)f(world!\))g(show)50b(\045)25 b(Typeset)f(``Hello,)g(world!'')0 722 y(showpage)0862 y Fi(Rotation)0 955 y Fg(\045!)0 1004 y(\045)h(Example)f(of)h(rotation...)f(draws)g(36)h(lines)f(in)h(a)g(circular)f(pattern)01054 y(0)h(10)g(360)f({)174 b(\045)25 b(Go)g(from)f(0)h(to)g(360)g(degrees)f(in)h(10)f(degree)h(steps)50 1104 y(newpath)198b(\045)25 b(Start)g(a)f(new)h(path)50 1154 y(gsave)248b(\045)25 b(Keep)g(rotations)f(temporary)100 1204 y(144)g(144)h(moveto)100 1253 y(rotate)173 b(\045)25 b(Rotate)g(by)f(degrees)h(on)f(stack)h(from)f('for')100 1303 y(72)g(0)h(rlineto)100 1353 y(stroke)501403 y(grestore)173 b(\045)25 b(Get)g(back)f(the)h(unrotated)f(state)01453 y(})h(for)298 b(\045)25 b(Iterate)f(over)h(angles)01503 y(showpage)0 1642 y Fi(Scale)0 1735 y Fg(\045!)01785 y(\045)g(Example)f(of)h(scaled)f(image)h(\(text\))01835 y(/Times-Roman)f(findfont)g(40)h(scalefont)f(setfont)01884 y(gsave)50 1934 y(72)h(72)f(moveto)50 1984 y(0.5)g(1)h(scale)249b(\045)25 b(Make)f(the)h(text)f(narrow)50 2034 y(\(Narrow)g(Text\))g(show)75 b(\045)25 b(Draw)f(it)0 2084 y(grestore)0 2133y(gsave)50 2183 y(72)h(144)f(moveto)50 2233 y(1)h(2)f(scale)349b(\045)24 b(Make)h(the)g(text)f(tall)50 2283 y(\(Tall)g(Text\))h(show)174 b(\045)24 b(Draw)h(it)0 2333 y(grestore)0 2382 y(gsave)502432 y(72)g(216)f(moveto)50 2482 y(2)h(0.5)f(scale)249b(\045)25 b(Make)f(the)h(text)f(wide)h(and)f(short)502532 y(\(Squeezed)g(Text\))g(show)h(\045)g(Draw)f(it)02582 y(grestore)0 2632 y(showpage)954 2794 y Fk(28)peop%%Page: 29 3029 29 bop 0 42 a Fi(Shade)15 b(and)g(Width)0 134 y Fg(\045!)0184 y(\045)25 b(Demonstrate)f(shading)g(and)h(width)f(in)h(drawing)f(lines)g(and)h(filling)f(shapes)0 234 y(\045)h(Define)f(an)h(operator)f(box)h(which)f(builds)g(a)h(path)g(for)f(a)h(one)g(inch)f(square)h(box)0 284 y(\045)g(Note)f(that)h(box)f(does)h(not)g(draw)f(or)h(fill)f(the)h(box.)0 333 y(/box)g({)50 383 y(newpath)50 433 y(moveto)497b(\045)25 b(Current)f(point)h(is)g(on)f(stack)50 483y(0)h(72)f(rlineto)348 b(\045)25 b(Left)50 533 y(72)g(0)f(rlineto)348b(\045)25 b(Top)50 582 y(0)g(-72)f(rlineto)323 b(\045)25b(Right)50 632 y(closepath)422 b(\045)25 b(Bottom)0 682y(})g(def)0 732 y(0)g(setgray)472 b(\045)25 b(100\045)g(black)0782 y(1)g(setlinewidth)347 b(\045)25 b(One)g(point)f(thick)h(lines)0831 y(72)g(72)f(moveto)h(72)f(144)h(lineto)f(stroke)100b(\045)24 b(Draw)h(a)g(one)f(inch)h(line)0 881 y(gsave)572b(\045)25 b(Save)g(a)g(copy)f(of)h(the)f(current)h(settings)50931 y(0.5)f(setgray)373 b(\045)25 b(50\045)g(black)50981 y(10)g(setlinewidth)272 b(\045)25 b(10)g(point)f(wide)h(lines)501031 y(144)f(72)h(moveto)f(144)h(144)g(lineto)f(stroke)49b(\045)25 b(Draw)g(a)f(one)h(inch)g(wide)f(line)50 1081y(216)g(72)h(box)672 b(\045)25 b(Build)g(a)f(square)h(path...)501130 y(0.35)f(setgray)348 b(\045)100 b(make)24 b(it)h(a)g(little)f(darker...)50 1180 y(fill)547 b(\045)100 b(and)25 b(fill)f(it.)01230 y(grestore)497 b(\045)25 b(Go)g(back)f(to)h(the)g(original)f(settings)0 1280 y(3)h(setlinewidth)347 b(\045)25 b(Make)g(the)f(box)h(lines)f(wider)0 1330 y(300)h(72)f(box)h(stroke)273 b(\045)25b(Draw)g(a)g(black)f(box)0 1379 y(showpage)62 1471 yFk(If)10 b(you)f(try)g(this)h(example,)h(you)e(should)g(note)g(a)i(couple)e(of)h(things.)j(Firstly)n(,)8 b(the)i(black)g(outlined)e(box)h(is)h(a)g(little)f(larger)g(than)g(the)0 1521 y(gray)g(\256lled)f(one.)13 b(This)c(extra)g(width)e(comes)j(from)e(the)h(3)f(point)g(wide)g(lines)g(used)h(to)f(draw)h(it\320they)e(are)i Ff(center)o(ed)hFk(about)e(the)g(path)g(of)0 1570 y(the)j(box.)k(The)c(ink)f(\256lling)f(the)i(gray)f(box,)h(however)o(,)g(is)f(completely)g(within)f(the)i(path)f(of)h(the)f(box.)15 b(Also,)c(when)g(shading)f(objects,)01620 y(you)g(must)g(be)h(careful.)k(PostScript)10 b(makes)h(shades)h(through)d(a)i(process)g(called)f(halftoning.)j(Basically)n(,)d(uniform)f(dots)h(are)i(placed)0 1670 y(in)e(various)g(patterns)g(to)h(simulate)f(diff)-5 b(e)q(rent)13 b(shades)e(of)g(grey)n(.)k(Unfortunately)n(,)8 b(various)i(considerations)g(limit)f(how)h(many)h(shades)0 1720 y(a)h(printer)e(can)i(produce.)18 b(So)11b(some)h(grey)f(tones)g(may)h(come)h(out)d(the)i(same.)18b(This)12 b(may)g(be)f(the)h(case)h(with)d(the)h(\256lled)g(box)g(and)g(the)0 1770 y(outlined)d(box)i(when)g(viewed)h(on)f(your)f(screen)i(or)f(printer)o(.)0 1909 y Fi(T)m(ransformations)0 2002 yFg(\045!)0 2052 y(\045)25 b(Example)f(to)h(demonstrate)f(translate,)g(rotate,)g(and)g(scale)0 2102 y(\045)h(operator)f(box:)g(xcoord)h(ycoord)f(box)h(-)0 2151 y(\045)g(Creates)f(one)h(inch)f(box)h(at)g(xcoord,)f(ycoord)0 2201 y(/box)h({)75 2251 y(newpath)752301 y(moveto)75 2351 y(72)f(0)h(rlineto)75 2400 y(0)g(72)f(rlineto)752450 y(-72)g(0)h(rlineto)75 2500 y(closepath)0 2550 y(})g(def)02600 y(\045)g(Specify)f(font)h(for)f(text)h(labels)02650 y(/Helvetica)f(findfont)g(40)h(scalefont)f(setfont)9542794 y Fk(29)p eop%%Page: 30 3130 30 bop 0 42 a Fg(gsave)50 91 y(40)25 b(40)f(translate)174b(\045)25 b(Set)f(origin)h(to)f(\(40,)h(40\))50 141 y(0)g(0)f(box)h(stroke)199 b(\045)25 b(Draw)f(box)h(at)f(new)h(origin...)50191 y(77)g(0)f(moveto)50 241 y(\(Translated\))g(show)124b(\045)74 b(and)25 b(label)0 291 y(grestore)0 340 y(gsave)50390 y(100)f(150)h(translate)124 b(\045)25 b(Translate)f(origin)g(to)h(\(100,)f(150\))50 440 y(30)h(rotate)323 b(\045)25 b(Rotate)f(counter-clockwise)f(by)i(30)g(degrees)50 490 y(0)g(0)f(box)h(stroke)199 b(\045)25 b(Draw)f(box...)50 540 y(75)h(0)f(moveto)50589 y(\(Translated)g(&)g(Rotated\))h(show)99 b(\045)75b(and)24 b(label)0 639 y(grestore)0 689 y(gsave)50 739y(40)h(300)f(translate)149 b(\045)25 b(Translate)f(to)49b(\(40,)25 b(300\))50 789 y(0.5)f(1)h(scale)274 b(\045)25b(Reduce)f(x)h(coord)f(by)h(1/2,)f(y)h(coord)g(left)f(alone)50839 y(0)h(0)f(box)h(stroke)199 b(\045)25 b(Draw)f(box...)50888 y(75)h(0)f(moveto)50 938 y(\(Translated)g(&)g(Squished\))h(show)99b(\045)74 b(and)25 b(label)0 988 y(grestore)0 1038 y(gsave)501088 y(100)f(450)h(translate)124 b(\045)25 b(Set)f(origin)h(to)f(\(300,)h(300\))50 1137 y(30)g(rotate)323 b(\045)25 b(Rotate)f(coordinates)g(by)g(45)h(degrees)50 1187 y(0.5)f(1)h(scale)274b(\045)25 b(Scale)f(coordinates)50 1237 y(0)h(0)f(box)h(stroke)199b(\045)25 b(Draw)f(box)50 1287 y(75)h(0)f(moveto)50 1337y(\(Everything\))g(show)0 1386 y(grestore)0 1436 y(showpage)01576 y Fi(T)m(ranslate)0 1669 y Fg(\045!)0 1718 y(\045)h(Draw)f(a)h(box)g(at)f(72,)h(72)g(using)f(translate)0 1768 y(\045)h(operator)f(box:)g(xcoord)h(ycoord)f(box)h(-)0 1818 y(\045)g(Creates)f(one)h(inch)f(box)h(at)g(xcoord,)f(ycoord)0 1868 y(/box)h({)75 1918y(newpath)75 1968 y(moveto)75 2017 y(72)f(0)h(rlineto)752067 y(0)g(72)f(rlineto)75 2117 y(-72)g(0)h(rlineto)752167 y(closepath)0 2217 y(})g(def)0 2266 y(gsave)373b(\045)25 b(Preserve)f(the)h(old)f(coordinates)50 2316y(72)h(72)f(translate)74 b(\045)25 b(Set)g(origin)f(to)h(\(72,)f(72\))50 2366 y(0)h(0)f(box)h(stroke)99 b(\045)25 b(Draw)f(the)h(box)g(at)f(the)h(new)g(origin)0 2416 y(grestore)298 b(\045)25 b(Restore)f(the)h(old)f(coordinates)0 2466 y(showpage)954 2794 y Fk(30)peop%%Page: 31 3231 31 bop 0 353 a Fj(Appendix)21 b(B)0 560 y Fm(PostScript)27b(Operators)0 801 y Fi(Operator:)18 b(add)0 894 y Ff(num1)10b(num2)f Fl(add)i Ff(num3)62 944 y Fk(This)f(operator)g(returns)g(the)g(addition)e(of)i(the)g(two)g(arguments.)62 1035 y Fe(\017)21b Fk(stackunder\257ow)62 1118 y Fe(\017)g Fk(typecheck)621201 y Fe(\017)g Fk(unde\256nedresult)0 1292 y(See)11b(also:)62 1375 y Fe(\017)21 b Fl(div)62 1458 y Fe(\017)gFl(mul)62 1541 y Fe(\017)g Fl(sub)0 1681 y Fi(Operator:)d(arc)01774 y Ff(x-coor)o(d)10 b(y-coor)o(d)g(r)g(ang1)g(ang2)fFl(arc)h(-)62 1823 y Fk(This)g(operator)f(adds)h(an)g(arc)g(to)f(the)h(current)f(path.)k(The)e(arc)f(is)g(generated)g(by)f(sweeping)g(a)i(line)e(segment)h(of)f(length)g Ff(r)p Fk(,)h(and)g(tied)01873 y(at)f(the)g(point)f(\()p Ff(x-coor)o(d)h(y-coor)o(d)pFk(\),)g(in)g(a)g(counter-clockwise)f(direction)g(from)h(an)h(angle)fFf(ang1)f Fk(to)h(and)g(angle)g Ff(ang2)p Fk(.)k(Note:)g(a)c(straight)01923 y(line)h(segment)g(will)f(connect)i(the)f(current)g(point)f(to)g(the)h(\256rst)g(point)f(of)h(the)g(arc,)i(if)d(they)h(are)h(not)f(the)g(same.)62 2006 y Fe(\017)21 b Fk(limitcheck)62 2089y Fe(\017)g Fk(stackunder\257ow)62 2172 y Fe(\017)g Fk(typecheck)02312 y Fi(Operator:)d(begin)0 2405 y Ff(dict)10 b Fl(begin)g(-)622454 y Fk(This)h(operator)f(pushes)g(the)h(dictionary)eFf(dict)h Fk(onto)f(the)i(dictionary)e(stack.)15 b(Where)c(it)f(can)h(be)g(used)g(for)f Fl(def)h Fk(and)g(name)g(lookup.)02504 y(This)f(operator)g(allows)g(an)g(operator)g(to)g(set)g(up)g(a)h(dictionary)d(for)i(its)g(own)g(use)g(\(e.g.)15 b(for)10b(local)g(variables\).)62 2554 y(Errors:)62 2637 y Fe(\017)21b Fk(dictstackover\257ow)954 2794 y(31)p eop%%Page: 32 3332 32 bop 62 42 a Fe(\017)21 b Fk(invalidaccess)62 125y Fe(\017)g Fk(stackunder\257ow)62 208 y Fe(\017)g Fk(typecheck)0347 y Fi(Operator:)d(bind)0 440 y Ff(pr)o(ocedur)o(e1)10b Fl(bind)g Ff(pr)o(ocedur)o(e2)62 490 y Fk(The)f Fl(bind)fFk(operator)g(goes)h(through)d Ff(pr)o(ocedur)o(e1)iFk(and)g(replaces)h(any)g(operator)e(names)j(with)d(their)g(associate)j(operators.)j(Names)0 540 y(which)e(do)g(not)f(refer)i(to)f(operators)g(are)h(left)e(alone.)18 b(Operators)11 b(within)e Ff(pr)o(ocedur)o(e1)iFk(which)g(have)h(unrestricted)e(access)k(will)c(have)0589 y Fl(bind)i Fk(called)g(on)g(themselves)g(before)g(they)g(are)h(inserted)e(into)g(the)h(procedure.)19 b(The)13 b(new)f(procedure)g(with)f(operators)h(instead)f(of)0 639 y(operator)f(names)h(is)f(returned)g(on)g(the)g(stack)h(as)f Ff(pr)o(ocedur)o(e2)pFk(.)62 689 y(The)f(main)f(eff)l(e)q(ct)j(and)d(use)g(of)g(this)f(operator)g(is)h(to)f(reduce)i(the)f(amount)f(of)h(name)h(lookup)d(done)i(by)g(the)f(interpreter)o(.)k(This)d(speeds)0739 y(up)i(execution)g(and)g(ties)g(down)g(the)g(behavior)f(of)h(operators.)62 789 y(Errors:)62 872 y Fe(\017)21 b Fk(typecheck)01011 y Fi(Operator:)d(clip)0 1104 y Fl(-)10 b(clip)g(-)621154 y Fk(This)k(operator)f(intersects)h(the)f(current)g(clipping)f(path)i(with)e(the)i(current)f(path)g(and)h(sets)g(the)g(current)f(clipping)f(path)h(to)g(the)0 1204 y(results.)j(Any)11b(part)g(of)g(a)g(path)g(drawn)g(after)h(calling)e(this)g(operator)h(which)f(extends)h(outside)g(this)f(new)h(clipping)f(area)i(will)e(simply)0 1253 y(not)e(be)h(drawn.)k(If)c(the)g(given)f(path)g(is)h(open,)g Fl(clip)g Fk(will)e(treat)i(it)f(as)h(if)f(it)g(were)i(closed.)k(Also,)9 b Fl(clip)f Fk(does)h(not)f(destroy)g(the)h(current)f(path)0 1303 y(when)i(it)g(is)g(\256nished...)k(it)c(may)h(be)f(used)h(for)e(other)h(activities.)62 1353 y(It)f(is)g(important)f(to)h(note)f(that)h(there)g(is)g(no)g(easy)i(way)e(to)g(restore)g(the)g(clip)g(path)g(to)f(a)i(larger)f(size)h(once)f(it)g(has)g(been)h(set.)k(The)c(best)0 1403 y(way)h(to)e(set)i(the)f(clip)f(path)h(is)g(to)g(wrap)g(it)g(in)g(a)g Fl(gsave)h Fk(and)f Fl(grestore)g Fk(pair)o(.)621453 y(Errors:)62 1536 y Fe(\017)21 b Fk(limitcheck)01676 y Fi(Operator:)d(closepath)0 1768 y Fk(-)10 b Fl(closepath)hFk(-)62 1818 y(This)e(operator)f(adds)h(a)h(line)e(segment)h(to)f(the)h(current)g(path)f(from)h(the)f(current)h(point)e(to)h(the)h(\256rst)f(point)g(in)g(the)h(path.)k(This)c(closes)0 1868 y(the)h(path)g(so)g(that)g(it)f(may)i(be)g(\256lled.)62 1918 y(Errors:)622001 y Fe(\017)21 b Fk(limitcheck)62 2084 y(Also)10 b(see)h(the)g(following)c(operators:)62 2167 y Fe(\017)21 b Fl(newpath)622250 y Fe(\017)g Fl(moveto)62 2333 y Fe(\017)g Fl(lineto)9542794 y Fk(32)p eop%%Page: 33 3433 33 bop 0 42 a Fi(Operator:)18 b(charpath)0 134 y Ff(string)9b(bool)g Fl(charpath)i(-)62 184 y Fk(This)e(operator)f(takes)h(the)g(given)f(string)g(and)g(appends)h(the)g(path)f(which)h(the)f(characters)i(de\256ne)g(to)e(the)h(current)f(path.)13b(The)d(result)0 234 y(is)g(can)h(be)g(used)f(as)h(any)f(other)g(path)g(for)g(stroking,)e(\256lling,)h(or)h(clipping.)62 284y(The)j(boolean)f(argument)f(informs)h Fl(charpath)hFk(what)f(to)f(do)h(if)g(the)g(font)f(was)i(not)f(designed)g(to)f(be)i(stoked.)19 b(If)12 b(the)g(boolean)g(is)0 333 y(true,)d(the)g(path)g(will)e(be)j(modi\256ed)f(to)f(be)h(\256lled)g(and)g(clipped)f(\(but)g(not)g(stroked\).)13 b(If)c(the)g(boolean)f(is)h(false,)h(the)f(path)g(will)f(be)h(suitable)0 383 y(to)h(be)g(stroked)g(\(but)f(not)g(\256lled)h(or)g(clipped\).)62 474 y Fe(\017)21 b Fk(limitcheck)62557 y Fe(\017)g Fk(nocurrentpoint)62 641 y Fe(\017)gFk(stackunder\257ow)62 724 y Fe(\017)g Fk(typecheck)62815 y(See)12 b(also:)62 906 y Fe(\017)21 b Fl(clip)62989 y Fe(\017)g Fl(\256ll)62 1072 y Fe(\017)g Fl(show)621155 y Fe(\017)g Fl(stroke)0 1295 y Fi(Operator:)d(curveto)01388 y Ff(x1)11 b(y1)f(x2)h(y2)f(x3)h(y3)f Fl(curveto)h(-)621437 y Fk(This)f(operator)e(draws)i(a)g(curve)g(from)f(the)g(current)g(point)f(to)h(the)g(point)f(\()p Ff(x3)p Fk(,)i Ff(y3)pFk(\))g(using)e(points)g(\()p Ff(x1)p Fk(,)j Ff(y1)pFk(\))e(and)h(\()p Ff(x2)p Fk(,)g Ff(y2)p Fk(\))f(as)h(control)01487 y(points.)16 b(The)c(curve)f(is)g(a)h(B)r(\302)-16b(ezier)12 b(cubic)f(curve.)17 b(In)11 b(such)h(a)g(curve,)g(the)f(tangent)g(of)g(the)g(curve)g(at)h(the)f(current)g(point)e(will)h(be)i(a)g(line)0 1537 y(segment)g(running)d(from)i(the)g(current)f(point)g(to)g(\()p Ff(x1)p Fk(,)i Ff(y1)p Fk(\))f(and)g(the)g(tangent)g(at)g(\()p Ff(x3)p Fk(,)h Ff(y3)p Fk(\))f(is)g(the)g(line)f(running)f(from)i(\()p Ff(x3)p Fk(,)h Ff(y3)p Fk(\))f(to)g(\()p Ff(x2)pFk(,)0 1587 y Ff(y2)p Fk(\).)62 1678 y Fe(\017)21 b Fk(limitcheck)621761 y Fe(\017)g Fk(nocurrentpoint)62 1844 y Fe(\017)gFk(stackunder\257ow)62 1927 y Fe(\017)g Fk(typecheck)622019 y(See)12 b(also:)62 2110 y Fe(\017)21 b Fl(arc)622193 y Fe(\017)g Fl(lineto)62 2276 y Fe(\017)g Fl(moveto)9542794 y Fk(33)p eop%%Page: 34 3534 34 bop 0 42 a Fi(Operator:)18 b(def)0 134 y Ff(name)10b(value)h Fl(def)f(-)62 184 y Fk(This)j(operator)g(associates)h(the)fFf(name)26 b Fk(with)12 b Ff(value)h Fk(in)f(the)h(dictionary)f(at)h(the)g(top)f(of)h(the)f(dictionary)g(stack.)23 b(This)13b(operator)0 234 y(essentially)d(de\256nes)h(names)g(to)f(have)g(values)h(in)f(the)g(dictionary)e(and)j(is)f(used)g(to)g(de\256ne)h(variables)f(and)g(operators.)62 284 y(Errors:)62 361y Fe(\017)21 b Fk(dictfull)62 442 y Fe(\017)g Fk(invalidaccess)62522 y Fe(\017)g Fk(limitcheck)62 603 y Fe(\017)g Fk(stackunder\257ow)62683 y Fe(\017)g Fk(typecheck)62 764 y Fe(\017)g Fk(VMerror)0903 y Fi(Operator:)d(div)0 995 y Ff(num1)10 b(num2)fFl(div)h Ff(num3)62 1045 y Fk(This)g(operator)g(returns)g(the)g(result)f(of)h(dividing)e Ff(num1)i Fk(by)g Ff(num2)p Fk(.)j(The)e(result)f(is)g(always)g(a)h(real.)62 1130 y Fe(\017)21 b Fk(stackunder\257ow)621210 y Fe(\017)g Fk(typecheck)62 1291 y Fe(\017)g Fk(unde\256nedresult)62 1376 y(See)12 b(also:)62 1461 y Fe(\017)21 b Fl(add)621541 y Fe(\017)g Fl(mul)62 1622 y Fe(\017)g Fl(sub)01761 y Fi(Operator:)d(dup)0 1853 y Ff(object)10 b Fl(dup)gFf(object)g(object)62 1903 y Fk(This)j(operate)f(pushes)h(a)g(second)f(copy)h(of)f(the)g(topmost)f(object)h(on)g(the)g(operand)h(stack.)21b(If)12 b(the)g(object)g(is)g(a)h(reference)h(to)e(an)01953 y(array)n(,)g(string,)f(or)g(similar)g(composite)g(object,)h(only)e(the)i(reference)h(is)e(duplicated;)g(both)f(references)j(will)e(still)e(refer)j(to)f(the)h(same)0 2003 y(object.)622052 y(Errors:)62 2130 y Fe(\017)21 b Fk(stackover\257ow)622211 y Fe(\017)g Fk(stackunder\257ow)0 2350 y Fi(Operator:)d(end)02442 y Fl(-)10 b(end)h(-)62 2492 y Fk(This)i(operator)f(pops)g(the)g(topmost)g(dictionary)f(off)g(of)i(the)f(dictionary)f(stack.)22b(The)13 b(dictionary)e(below)i(it)e(becomes)j(the)f(new)02542 y(current)d(dictionary)n(.)62 2592 y(Errors:)622669 y Fe(\017)21 b Fk(dictstackunder\257ow)954 2794y(34)p eop%%Page: 35 3635 35 bop 0 42 a Fi(Operator:)18 b(\256ll)0 134 y Fl(-)10b(\256ll)g(-)62 184 y Fk(This)h(operator)g(closes)h(and)f(\256lls)g(the)g(current)g(path)g(with)f(the)h(current)g(color)o(.)16b(Any)10 b(ink)h(within)e(the)j(path)e(is)h(obliterated.)16b(Note)0 234 y(that)9 b Fl(\256ll)h Fk(blanks)f(out)g(the)h(current)g(path)f(as)i(if)e(it)g(had)h(called)h Fl(newpath)p Fk(.)j(If)c(you)f(want)h(the)f(current)h(path)g(preserved,)h(you)e(should)g(use)0284 y Fl(gsave)h Fk(and)h Fl(grestore)f Fk(to)f(preserve)i(the)f(path.)62 333 y(Errors:)62 416 y Fe(\017)21 b Fk(limitcheck)0556 y Fi(Operator:)d(\256ndfont)0 649 y Ff(name)10 bFl(\256ndfont)g Ff(font)62 699 y Fk(This)h(operator)e(looks)h(for)g(the)g(named)h(font)e(in)h(the)g(font)f(dictionary)n(.)j(If)f(it)e(\256nds)h(the)g(font,)g(it)g(pushes)g(the)g(font)g(on)g(the)g(stack)h(for)0 748 y(later)f(processing.)k(It)c(signals)f(an)i(error)f(if)g(the)g(font)f(can)i(not)e(be)i(found.)62 798 y(Errors:)62881 y Fe(\017)21 b Fk(invalidfont)62 964 y Fe(\017)gFk(stackunder\257ow)62 1047 y Fe(\017)g Fk(typecheck)621130 y(Also)10 b(see)h(the)g(following)c(operators:)621222 y Fe(\017)21 b Fl(scalefont)62 1305 y Fe(\017)gFl(setfont)0 1444 y Fi(Operator:)d(for)0 1537 y Ff(initial)8b(incr)o(ement)h(limit)g(pr)o(oc)h Fl(for)g(-)62 1587y Fk(This)e(operator)f(will)g(execute)i Ff(pr)o(oc)eFk(repeatedly)n(.)13 b(The)8 b(\256rst)g(time)g Ff(pr)o(oc)fFk(is)h(executed,)h(it)e(will)g(be)h(given)f Ff(initial)fFk(as)i(the)g(top)f(operand.)0 1637 y(Each)k(time)g(it)e(is)h(executed)h(after)g(that,)f(the)g(top)f(operand)h(will)f(be)i(incremented)g(by)fFf(incr)o(ement)p Fk(.)j(This)e(process)f(will)f(continue)h(until)01686 y(the)g(argument)g(would)f(have)h(exceeded)i Ff(limit)pFk(.)62 1778 y Fe(\017)21 b Fk(stackover\257ow)62 1861y Fe(\017)g Fk(stackunder\257ow)62 1944 y Fe(\017)g Fk(typecheck)622035 y(See)12 b(also:)62 2126 y Fe(\017)21 b Fl(if)622209 y Fe(\017)g Fl(ifelse)0 2349 y Fi(Operator:)d(grestor)o(e)02442 y Fl(-)10 b(grestore)g(-)62 2492 y Fk(Sets)g(the)f(current)g(graphics)g(state)g(to)f(the)h(topmost)g(graphics)f(state)i(on)f(graphics)g(state)g(stack)g(and)h(pops)e(that)h(state)g(off)f(the)h(stack.)0 2541 y(This)h(operator)g(is)g(almost)g(always)h(used)f(in)g(conjunction)e(with)h Fl(gsave)p Fk(.)954 2794 y(35)peop%%Page: 36 3736 36 bop 0 42 a Fi(Operator:)18 b(gsave)0 134 y Ff(-)10b Fl(gsave)g(-)62 184 y Fk(This)h(operator)f(pushes)g(a)h(copy)f(of)h(the)f(current)g(graphics)g(state)h(onto)e(the)i(graphics)f(state)g(stack.)15 b(The)d(graphics)e(state)g(consists)0 234y(of)g(\(among)g(other)g(things\):)62 317 y Fe(\017)21b Fk(Current)9 b(Transformation)f(Matrix)62 400 y Fe(\017)21b Fk(Current)9 b(Path)62 483 y Fe(\017)21 b Fk(Clip)9b(Path)62 566 y Fe(\017)21 b Fk(Current)9 b(Color)62649 y Fe(\017)21 b Fk(Current)9 b(Font)62 732 y Fe(\017)21b Fk(Current)9 b(Gray)h(V)l(alue)0 815 y Fl(gsave)j Fk(is)f(typically)f(used)i(with)f Fl(grestore)h Fk(whenever)g(you)f(need)h(to)f(change)i(the)e(graphics)h(state)g(temporarily)e(and)i(return)f(to)g(the)0865 y(original.)62 914 y(Errors:)62 998 y Fe(\017)21b Fk(limitcheck)0 1137 y Fi(Operator:)d(if)0 1230 y Ff(bool)9b(pr)o(oc)h Fl(if)g(-)62 1280 y Fk(This)g(operator)g(will)f(execute)iFf(pr)o(oc)f Fk(if)g Ff(bool)f Fk(is)h(true.)62 1363y Fe(\017)21 b Fk(stackunder\257ow)62 1446 y Fe(\017)gFk(typecheck)0 1586 y Fi(Operator:)d(ifelse)0 1678 yFf(bool)9 b(pr)o(oc1)h(pr)o(oc2)g Fl(ifelse)g(-)62 1728y Fk(This)g(operator)g(will)f(execute)i Ff(pr)o(oc1)fFk(if)g Ff(bool)f Fk(is)h(true)g(and)g Ff(pr)o(oc2)gFk(otherwise.)62 1811 y Fe(\017)21 b Fk(stackunder\257ow)621894 y Fe(\017)g Fk(typecheck)0 2034 y Fi(Operator:)d(lineto)02126 y Ff(x-coor)o(d)10 b(y-coor)o(d)g Fl(lineto)f Fk(-)622176 y(This)i(operator)f(adds)h(a)g(line)f(into)f(the)h(path.)15b(The)c(line)f(is)h(from)f(the)h(current)f(point)f(to)h(the)g(point)f(\()p Ff(x-coor)o(d)h(y-coor)o(d)p Fk(\).)15 b(After)10b(the)0 2226 y(line)d(is)h(added)g(to)f(the)h(path,)g(the)f(current)h(point)e(is)i(set)g(to)f(\()p Ff(x-coor)o(d)15 b(y-coor)o(d)pFk(\).)e(It)7 b(is)h(an)g(error)f(to)h(call)f Fl(lineto)gFk(without)f(having)h(a)h(current)0 2276 y(point.)622326 y(Errors:)62 2409 y Fe(\017)21 b Fk(limitcheck)622492 y Fe(\017)g Fk(nocurrentpoint)62 2575 y Fe(\017)gFk(stackunder\257ow)62 2658 y Fe(\017)g Fk(typecheck)9542794 y(36)p eop%%Page: 37 3837 37 bop 62 42 a Fk(Also)10 b(see)h(the)g(following)c(operators:)62124 y Fe(\017)21 b Fl(rlineto)62 206 y Fe(\017)g Fl(moveto)62289 y Fe(\017)g Fl(rmoveto)62 371 y Fe(\017)g Fl(curveto)62454 y Fe(\017)g Fl(arc)62 536 y Fe(\017)g Fl(closepath)0676 y Fi(Operator:)d(moveto)0 769 y Ff(x-coor)o(d)10b(y-coor)o(d)g Fl(moveto)f Fk(-)62 818 y(This)k(operator)f(moves)h(the)f(current)g(point)f(of)i(the)f(current)g(path)g(to)g(the)h(given)f(point)f(in)g(user)i(space.)23 b(If)12 b(a)h Fl(moveto)fFk(operator)0 868 y(immediately)e(follows)f(another)hFl(moveto)f Fk(operator)o(,)h(the)g(previous)f(one)h(is)g(erased.)62918 y(Errors:)62 1000 y Fe(\017)21 b Fk(limitcheck)621083 y Fe(\017)g Fk(stackunder\257ow)62 1165 y Fe(\017)gFk(typecheck)62 1247 y(Also)10 b(see)h(the)g(following)c(operators:)621329 y Fe(\017)21 b Fl(rmoveto)62 1412 y Fe(\017)g Fl(lineto)621494 y Fe(\017)g Fl(curveto)62 1577 y Fe(\017)g Fl(arc)621660 y Fe(\017)g Fl(closepath)0 1799 y Fi(Operator:)d(mul)01892 y Ff(value1)10 b(value2)g Fl(mul)g Ff(pr)o(oduct)621942 y Fk(This)i(operator)f(multiplies)f(the)i(\256rst)f(two)h(operands)f(on)h(the)g(stack)g(and)g(pushes)g(the)f(result)g(back)i(onto)d(the)i(stack.)19 b(The)13 b(result)0 1991 y(is)e(an)h(integer)f(if)g(both)g(operands)g(are)i(integers)e(and)h(the)f(product)g(is)g(not)g(out)f(of)i(range.)18 b(If)11 b(the)h(product)e(is)i(too)f(big,)g(or)g(one)h(of)f(the)0 2041 y(operands)f(is)g(a)h(real,)g(the)f(result)g(will)f(be)h(a)h(real.)62 2091 y(Errors:)62 2173 y Fe(\017)21b Fk(stackunder\257ow)62 2256 y Fe(\017)g Fk(typecheck)622338 y Fe(\017)g Fk(unde\256nedresult)0 2478 y Fi(Operator:)d(newpath)02570 y Fl(-)10 b(newpath)h(-)62 2620 y Fk(The)f(newpath)g(operator)e(clears)j(out)d(the)i(current)f(path)g(and)g(prepares)h(the)f(system)h(to)f(start)g(a)h(new)g(current)f(path.)k(This)d(operator)02670 y(should)f(be)i(called)f(before)h(starting)d Ff(any)jFk(new)f(path,)h(even)f(though)f(some)i(operators)f(call)g(it)g(implicitly)m(.)954 2794 y(37)p eop%%Page: 38 3938 38 bop 0 42 a Fi(Operator:)18 b(restor)o(e)0 134 yFf(state)10 b Fl(restore)g Fk(-)62 184 y(This)g(restores)h(the)f(total)f(state)i(of)f(the)g(PostScript)f(system)h(to)g(the)g(state)h(saved)g(in)e Ff(state)p Fk(.)62 234 y(Errors:)62 317 y Fe(\017)21b Fk(invalidrestore)62 400 y Fe(\017)g Fk(stackunder\257ow)62483 y Fe(\017)g Fk(typecheck)62 566 y(See)12 b(also:)62649 y Fe(\017)21 b Fl(save)0 789 y Fi(Operator:)d(rlineto)0881 y Ff(dx)11 b(dy)f Fl(rlineto)g Fk(-)62 931 y(This)e(operator)g(adds)h(a)f(line)g(into)f(the)h(path.)13 b(The)c(line)f(is)g(from)g(the)g(current)g(point)e(to)i(a)h(point)e(found)g(by)h(adding)fFf(dx)i Fk(to)e(the)h(current)0 981 y Ff(x)k Fk(and)fFf(dy)g Fk(to)f(the)h(current)g Ff(y)p Fk(.)17 b(After)10b(line)h(is)f(added)i(to)e(the)h(path,)g(the)g(current)g(point)e(is)i(set)g(to)f(the)h(new)h(point.)i(It)d(is)g(an)g(error)g(to)f(call)01031 y Fl(lineto)g Fk(without)e(having)h(a)i(current)f(point.)621080 y(Errors:)62 1163 y Fe(\017)21 b Fk(limitcheck)621246 y Fe(\017)g Fk(nocurrentpoint)62 1330 y Fe(\017)gFk(stackunder\257ow)62 1413 y Fe(\017)g Fk(typecheck)621496 y(Also)10 b(see)h(the)g(following)c(operators:)621587 y Fe(\017)21 b Fl(lineto)62 1670 y Fe(\017)g Fl(moveto)621753 y Fe(\017)g Fl(rmoveto)62 1836 y Fe(\017)g Fl(curveto)621919 y Fe(\017)g Fl(arc)62 2002 y Fe(\017)g Fl(closepath)02142 y Fi(Operator:)d(rmoveto)0 2234 y Ff(dx)11 b(dy)fFl(rmoveto)g Fk(-)62 2284 y(This)g(operator)g(moves)h(the)f(current)g(point)f(of)h(the)g(current)g(path)f(by)h(adding)g Ff(dx)gFk(to)g(the)g(current)g Ff(x)h Fk(and)f Ff(dy)h Fk(to)e(the)h(current)gFf(y)p Fk(.)62 2334 y(Errors:)62 2417 y Fe(\017)21 bFk(limitcheck)62 2500 y Fe(\017)g Fk(stackunder\257ow)622583 y Fe(\017)g Fk(typecheck)62 2666 y(Also)10 b(see)h(the)g(following)c(operators:)954 2794 y(38)p eop%%Page: 39 4039 39 bop 62 42 a Fe(\017)21 b Fl(moveto)62 121 y Fe(\017)gFl(lineto)62 201 y Fe(\017)g Fl(curveto)62 281 y Fe(\017)gFl(arc)62 361 y Fe(\017)g Fl(closepath)0 499 y Fi(Operator:)d(rotate)0592 y Ff(angle)10 b Fl(rotate)f(-)62 641 y Fk(This)i(operator)g(has)h(the)f(eff)l(ec)q(t)j(of)d(rotating)e(the)i(user)h(space)g(counter-clockwise)e(by)h Ff(angle)f Fk(degrees)i(\(negative)f(angles)g(rotate)0 691 y(clockwise\).)j(The)d(rotation)d(occurs)j(around)f(the)g(current)g(origin.)62 768 y Fe(\017)21 b Fk(rangecheck)62847 y Fe(\017)g Fk(stackunder\257ow)62 927 y Fe(\017)gFk(typecheck)62 1004 y(See)12 b(also:)62 1087 y Fe(\017)21b Fl(scale)62 1167 y Fe(\017)g Fl(translate)0 1305 yFi(Operator:)d(save)0 1398 y Fk(-)10 b Fl(save)h Ff(state)621447 y Fk(This)f(operator)g(gathers)g(up)g(the)g(complete)h(state)f(of)g(the)g(PostScript)g(system)g(and)h(saves)g(it)e(in)hFf(state)p Fk(.)62 1497 y(Errors:)62 1574 y Fe(\017)21b Fk(limitcheck)62 1654 y Fe(\017)g Fk(stackover\257ow)621730 y(See)12 b(Also:)62 1813 y Fe(\017)21 b Fl(restore)01952 y Fi(Operator:)d(scale)0 2044 y Ff(sx)11 b(sy)gFl(scale)g(-)62 2094 y Fk(This)d(operator)f(has)h(the)g(eff)l(e)q(ct)j(of)c(scaling)h(the)f(user)i(coordinates.)j(All)7 b(coordinates)h(will)e(be)i(multiplied)e(by)h Ff(sx)i Fk(in)e(the)h(horizontal)02144 y(direction,)h(and)i Ff(sy)g Fk(in)e(the)h(vertical.)622194 y(The)h(origin)e(will)g(not)g(be)i(aff)l(ec)q(ted)i(by)d(this)f(operation.)62 2270 y Fe(\017)21 b Fk(rangecheck)62 2350y Fe(\017)g Fk(stackunder\257ow)62 2430 y Fe(\017)g Fk(typecheck)622506 y(See)12 b(also:)62 2589 y Fe(\017)21 b Fl(rotate)622669 y Fe(\017)g Fl(translate)954 2794 y Fk(39)p eop%%Page: 40 4140 40 bop 0 42 a Fi(Operator:)18 b(scalefont)0 134 yFf(font)9 b(size)i Fl(scalefont)f Ff(font)62 184 y Fk(This)h(operator)g(takes)g(the)g(given)f(font)g(and)h(scales)h(it)e(by)h(the)g(given)f(scale)i(factor)o(.)j(The)d(resulting)d(scaled)j(font)e(is)g(pushed)h(onto)0 234 y(the)f(stack.)15 b(A)10 b Ff(size)h Fk(of)f(one)h(produces)f(the)g(same)i(sized)f(characters)g(as)g(the)g(original)d(font,)i(0.5)g(produces)h(half-size)f(characters,)i(and)0284 y(so)e(on.)62 333 y(Errors:)62 416 y Fe(\017)21 bFk(invalidfont)62 499 y Fe(\017)g Fk(stackunder\257ow)62582 y Fe(\017)g Fk(typecheck)62 665 y Fe(\017)g Fk(unde\256ned)62748 y(Also)10 b(see)h(the)g(following)c(operators:)62840 y Fe(\017)21 b Fl(\256ndfont)62 923 y Fe(\017)g Fl(setfont)01063 y Fi(Operator:)d(setfont)0 1155 y Ff(font)9 b Fl(setfont)hFk(-)62 1205 y(This)e(operator)f(sets)h(the)f(current)g(font)g(to)f(be)i Ff(font)p Fk(.)k(This)c(font)e(can)i(be)g(the)f(result)g(of)g(any)h(font)f(creation)g(or)g(modi\256cation)g(operator)o(.)01255 y(This)j(font)f(is)h(used)h(in)f(all)g(subsequent)f(character)j(operations)d(like)h(show)n(.)62 1346 y Fe(\017)21 bFk(invalidfont)62 1429 y Fe(\017)g Fk(stackunder\257ow)621512 y Fe(\017)g Fk(typecheck)62 1603 y(Also)10 b(see:)621695 y Fe(\017)21 b Fl(\256ndfont)62 1778 y Fe(\017)gFl(scalefont)0 1918 y Fi(Operator:)d(setgray)0 2010 yFf(gray-value)10 b Fl(setgray)h Fk(-)62 2060 y(This)i(operator)e(sets)i(the)f(current)g(intensity)f(of)h(the)g(ink)g(to)f Ff(gray-value)pFk(.)21 b Ff(gray-value)12 b Fk(must)g(be)h(a)g(number)f(from)g(0)h(\(black\))f(to)0 2110 y(1)f(\(white\).)k(This)c(will)f(aff)l(e)q(ct)k(all)c(markings)h(stroked)f(or)h(\256lled)g(onto)e(the)i(page.)17b(This)11 b(applies)g(even)g(to)g(path)f(components)h(created)02160 y(before)f(the)g(call)h(to)e Fl(setgray)i Fk(as)g(long)e(as)i(they)f(have)h(not)e(yet)h(been)h(stroked.)62 2251 yFe(\017)21 b Fk(stackunder\257ow)62 2334 y Fe(\017)gFk(typecheck)62 2417 y Fe(\017)g Fk(unde\256ned)954 2794y(40)p eop%%Page: 41 4241 41 bop 0 42 a Fi(Operator:)18 b(setlinewidth)0 134y Ff(width)9 b Fl(setlinewidth)h Fk(-)62 184 y(This)h(operator)g(sets)g(the)g(width)f(of)g(all)h(lines)g(to)f(be)h(stroked)g(to)fFf(width)p Fk(,)g(which)h(must)g(be)g(speci\256ed)h(in)e(points.)15b(A)c(line)g(width)e(of)0 234 y(zero)i(is)f(possible)f(and)i(is)f(interpreted)f(to)h(be)g(a)h(hairline,)f(as)g(thin)f(as)i(can)g(be)g(rendered)g(on)e(the)i(given)e(device.)62 323 y Fe(\017)21b Fk(stackunder\257ow)62 405 y Fe(\017)g Fk(typecheck)0544 y Fi(Operator:)d(show)0 636 y Ff(string)9 b Fl(show)i(-)62686 y Fk(This)f(operator)e(draws)i(the)f(given)g(string)f(onto)g(the)h(page.)14 b(The)c(current)f(graphics)h(state)f(applies,)h(so)f(the)g(current)g(font,)g(fontsize,)0 736 y(gray)h(value,)h(and)f(current)g(transformation)f(matrix)h(all)f(apply)n(.)62 786 y(The)h(location)f(for)f(the)i(text)e(is)i(set)f(by)g(the)g(current)g(point.)k(The)d(current)f(point)f(will)g(specify)h(the)g(leftmost)g(point)f(of)h(the)g(baseline)0 836 y(for)h(the)g(text.)62 925 y Fe(\017)21b Fk(invalidaccess)62 1007 y Fe(\017)g Fk(invalidfont)621089 y Fe(\017)g Fk(nocurrentpoint)62 1171 y Fe(\017)gFk(rangecheck)62 1253 y Fe(\017)g Fk(stackunder\257ow)621335 y Fe(\017)g Fk(typecheck)62 1423 y(See)12 b(also:)621512 y Fe(\017)21 b Fl(charpath)62 1594 y Fe(\017)g Fl(moveto)621676 y Fe(\017)g Fl(setfont)0 1816 y Fi(Operator:)d(showpage)01908 y Fk(-)10 b Fl(showpage)h Fk(-)62 1958 y(This)f(operator)g(commits)h(the)f(current)g(page)g(to)g(print)f(and)h(ejects)h(the)f(page)h(from)f(printing)e(device.)15 b Fl(showpage)10b Fk(also)g(prepares)0 2008 y(a)h(new)f(blank)g(page.)02147 y Fi(Operator:)18 b(stroke)0 2240 y Fl(-)10 b(stroke)g(-)622290 y Fk(This)f(operator)f(draws)h(a)g(line)f(along)f(the)i(current)f(path)g(using)g(the)g(current)h(settings.)j(This)c(includes)h(the)f(current)g(line)g(thickness,)0 2339 y(current)13 b(pen)g(color)o(,)h(current)f(dash)g(pattern,)h(current)f(settings)f(for)h(how)g(lines)g(should)f(be)i(joined,)f(and)h(what)f(kind)f(of)h(caps)h(they)02389 y(should)9 b(have.)15 b(These)c(settings)e(are)i(the)g(settings)e(at)h(the)g(time)g(the)h(stroke)e(operator)h(is)g(invoked.)622439 y(A)g(closed)f(path)g(consisting)f(of)h(two)f(or)h(more)h(points)e(at)h(the)g(same)i(location)d(is)h(a)h(degenerate)g(path.)j(A)d(degenerate)g(path)f(will)f(be)0 2489 y(drawn)h(only)g(if)g(you)g(have)h(set)g(the)f(line)g(caps)i(to)e(round)f(caps.)15 b(If)9b(your)g(line)g(caps)i(are)f(not)f(round)f(caps,)j(or)f(if)f(the)g(path)g(is)h(not)f(closed,)0 2539 y(the)h(path)g(will)f(not)g(be)i(drawn.)j(If)c(the)g(path)g(is)g(drawn,)g(it)g(will)f(appear)i(as)g(a)g(\256lled)e(circle)i(center)g(at)f(the)g(point.)62 2588y(Errors:)62 2669 y Fe(\017)21 b Fk(limitcheck)954 2794y(41)p eop%%Page: 42 4342 42 bop 0 42 a Fi(Operator:)18 b(sub)0 134 y Ff(num1)10b(num2)f Fl(sub)i Ff(num3)62 184 y Fk(This)f(operator)g(returns)g(the)g(result)f(of)h(subtracting)f Ff(num2)h Fk(from)g Ff(num1)pFk(.)62 275 y Fe(\017)21 b Fk(stackunder\257ow)62 358y Fe(\017)g Fk(typecheck)62 441 y Fe(\017)g Fk(unde\256nedresult)62533 y(See)12 b(also:)62 624 y Fe(\017)21 b Fl(add)62707 y Fe(\017)g Fl(div)62 790 y Fe(\017)g Fl(mul)0 930y Fi(Operator:)d(translate)0 1022 y Ff(x-coor)o(d)10b(y-coor)o(d)g Fl(translate)g(-)62 1072 y Fk(This)g(operator)g(has)h(the)f(aff)l(e)q(ct)j(of)d(moving)f(the)h(origin)f(to)h(the)g(point)e(\()p Ff(x-coor)o(d)p Fk(,)j Ff(y-coor)o(d)p Fk(\))e(in)h(the)g(current)g(user)h(space.)62 1163 y Fe(\017)21 b Fk(rangecheck)621246 y Fe(\017)g Fk(stackunder\257ow)62 1330 y Fe(\017)gFk(typecheck)62 1421 y(See)12 b(also:)62 1512 y Fe(\017)21b Fl(rotate)62 1595 y Fe(\017)g Fl(scale)954 2794 y Fk(42)peop%%Page: 43 4443 43 bop 0 353 a Fj(Appendix)21 b(C)0 560 y Fm(Err)o(ors)j(Y)-10b(ou)24 b(Might)j(Encounter)0 781 y Fl(con\256gurationerror)21b Fk(setpagedevice)11 b(request)g(can)f(not)g(be)g(satis\256ed)0864 y Fl(dictfull)20 b Fk(dictionary)8 b(is)i(full)0947 y Fl(dictstackover\257ow)21 b Fk(too)9 b(many)i Fg(begin)pFk(s)0 1030 y Fl(dictstackunde\257ow)21 b Fk(too)10 b(many)gFg(end)p Fk(s)0 1113 y Fl(invalidaccess)20 b Fk(access)13b(attribute)c(violated)g(\(e.g.)14 b(attempted)c(to)g(write)g(a)g(read-only)g(object\))0 1196 y Fl(invalidfont)19 b Fk(bad)10b(font)f(name)i(or)f(dictionary)0 1279 y Fl(invalidrestore)19b Fk(the)10 b(saved)h(state)f(object)g(is)g(too)g(old)f(to)h(restore)01362 y Fl(ioerror)21 b Fk(some)11 b(kind)e(of)h(error)g(during)f(input)f(or)i(output)0 1445 y Fl(limitcheck)20 b Fk(some)11b(implementation-dependent)e(size)i(restriction)d(has)j(been)g(exceeded)0 1528 y Fl(nocurrentpoint)21 b Fk(the)10 b(current)g(point)f(is)h(not)f(de\256ned,)i(yet)0 1611 y Fl(rangecheck)23b Fk(operand)10 b(is)g(too)f(big)h(or)g(too)f(small)01694 y Fl(stackover\257ow)21 b Fk(the)10 b(stack)h(was)g(full)e(before)h(the)g(last)g(push)0 1777 y Fl(stackunder\257ow)22 bFk(you)10 b(tried)f(to)h(pop)f(from)h(an)h(empty)f(stack)01860 y Fl(syntaxerror)21 b Fk(PostScript')o(s)8 b(syntax)h(has)i(been)g(violated)0 1943 y Fl(typecheck)22 b Fk(operand)10 b(is)g(of)g(the)g(wrong)g(type)0 2026 y Fl(unde\256ned)22 b Fk(name)11b(is)f(not)g(de\256ned)g(in)g(any)g(dictionary)f(on)h(the)g(stack)02109 y Fl(unde\256nedresult)22 b Fk(the)10 b(result)g(of)f(the)i(last)f(numeric)g(operation)f(is)h(invalid)f(\()p Ff(e.g.)14b Fk(division)9 b(by)h(zero\))0 2192 y Fl(VMerror)22b Fk(virtual)8 b(memory)j(full)954 2794 y(43)p eop%%Page: 44 4544 44 bop 0 353 a Fj(Appendix)21 b(D)0 560 y Fm(String)26b(Escape)g(Codes)10 784 y Fe(n)p Fl(n)31 b Fk(Newline)10867 y Fe(n)p Fl(r)h Fk(Carriage)10 b(return)10 950 yFe(n)p Fl(t)31 b Fk(Horizontal)9 b(T)n(AB)10 1033 y Fe(n)pFl(b)31 b Fk(Backspace)10 1116 y Fe(n)p Fl(f)g Fk(Form)10b(feed)10 1199 y Fe(nn)31 b Fk(Backslash)10 1282 y Fe(n)pFl(\()g Fk(Left)11 b(parenthesis)10 1365 y Fe(n)p Fl(\))31b Fk(Right)9 b(parenthesis)10 1448 y Fe(n)p Fl(ddd)32b Fk(The)10 b(character)i(code)f(ddd,)f(where)g(ddd)g(is)g(in)g(octal.)62 1539 y(In)j(addition)e(to)h(these)i(basic)f(codes,)h(a)g(backslash)f(just)f(before)h(a)h(newline)e(allows)h(you)f(to)g(break)h(a)h(string)e(across)h(two)g(lines)0 1589 y(without)8 b(inserting)h(a)i(newline)e(into)g(the)i(string.)h(That)f(is,)f(the)g(string:)01672 y Fg(\(This)24 b(is)h(a)g(\\)0 1722 y(string)f($\\backslash$)01771 y(that)h(has)f(no)h(\\)0 1821 y(newlines\))0 1904y Fk(is)10 b(equivalent)f(to)h(the)g(string:)i Fg(\(This)25b(is)f(a)h(string)f(that)h(has)g(no)f(newlines\))p Fk(.)9542794 y(44)p eop%%Page: 45 4645 45 bop 0 353 a Fj(Appendix)21 b(E)0 560 y Fm(PostScript)27b(Books)0 781 y Fk(There)11 b(are)g(a)g(number)f(of)g(good)f(books)h(on)g(PostScript.)j(If)d(you)f(do)h(much)h(PostScript)e(programming)g(at)h(all,)g(I)h(highly)d(recommend)0 830 y(that)i(you)f(get)h(one)h(of)f(these)g(print)f(books.)1 922 y(P)o Fa(O)r(S)s(T)rFk(S)r Fa(C)r(R)s(I)r(P)r(T)16 b Fk(L)o Fa(A)r(N)r(G)r(U)r(A)s(G)r(E)fFk(R)o Fa(E)r(F)s(E)r(R)r(E)s(N)r(C)r(E)h Fk(M)o Fa(A)r(N)r(U)r(A)r(L)rFk(:)i(S)p Fa(E)r(C)r(O)r(N)r(D)e Fk(E)o Fa(D)r(I)r(T)s(I)r(O)r(N)24b Fk(This)8 b(book)g(is)g(put)f(out)g(by)h(Adobe)g(Systems)g(Incor-)104972 y(porated)j(and)g(is)h(published)e(by)h(Addison)f(W)n(esley)n(.)17b(It)11 b(is)g Ff(the)g Fk(reference)i(manual)f(and)g(pretty)e(much)i(de\256nes)g(the)g(language.)104 1021 y(The)f(operator)f(reference)j(guide)d(I)g(have)i(here)f(pretty)f(well)g(follows)f(Adobe')o(s)h(reference)i(in)e(this)g(manual.)16 b(Their)11 b(reference)1041071 y(is,)h(however)o(,)g(far)h(more)f(detailed)f(\(and)h(accurate\).)21 b(This)11 b(book)h(is)f(known)g(as)i(the)f(\252Red)g(and)g(White)g(Book.\272)18 b(Adobe)12 b(also)104 1121 y(provides)d(other)h(books)f(\(including)f(the)i(\252Blue\272)h(tutorial)d(and)j(cookbook\).)h(The)g(PL)r(R)r(M)q(')o(s)g(ISBN)e(is:)j(0-201-181)o(127)o(-4)11204 y(L)o Fa(E)s(A)r(R)r(N)r(I)r(N)r(G)j Fk(P)o Fa(O)r(S)r(T)sFk(S)r Fa(C)r(R)r(I)r(P)s(T)q Fk(:)i Fa(A)12 b Fk(V)oFa(I)r(S)s(U)r(A)r(L)k Fk(A)o Fa(P)r(P)s(R)r(O)r(A)r(C)r(H)25b Fk(This)8 b(book)f(is)h(a)h(\256ne)g(beginning)d(text)i(for)g(PostScript.)k(The)d(book)e(empha-)104 1254 y(sizes)i(PostScript')o(s)d(fantastic)j(graphics)f(abilities)f(while)h(illustrating)d(basic)k(language)g(constructs.)k(The)c(language)g(concepts)1041304 y(are)i(illustrated)d(with)h(graphic)g(design)h(examples,)h(most)f(of)f(which)h(you)f(will)g(be)h(tempted)g(to)f(use)i(in)e(your)g(own)h(documents.)104 1353 y(The)j(book)e(also)h(includes)g(a)h(number)f(of)g(interesting)f(and)h(useful)g(utilities.)17 b(Author:)f(Ross)c(Smith.)20 b(Publisher:)c(Peachpit)104 1403 y(Press.)f(ISBN)10b(0-938-151-12-6)o(.)954 2794 y(45)p eop%%Trailerenduserdict /end-hook known{end-hook}if%%EOF